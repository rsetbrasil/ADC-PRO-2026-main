"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/admin/pedidos/page",{

/***/ "(app-pages-browser)/./src/context/AdminContext.tsx":
/*!**************************************!*\
  !*** ./src/context/AdminContext.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdminProvider: () => (/* binding */ AdminProvider),\n/* harmony export */   useAdmin: () => (/* binding */ useAdmin),\n/* harmony export */   useAdminData: () => (/* binding */ useAdminData)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_use_toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/hooks/use-toast */ \"(app-pages-browser)/./src/hooks/use-toast.ts\");\n/* harmony import */ var _DataContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DataContext */ \"(app-pages-browser)/./src/context/DataContext.tsx\");\n/* harmony import */ var _barrel_optimize_names_addMonths_date_fns__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=addMonths!=!date-fns */ \"(app-pages-browser)/./node_modules/date-fns/addMonths.mjs\");\n/* harmony import */ var _AuthContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AuthContext */ \"(app-pages-browser)/./src/context/AuthContext.tsx\");\n/* harmony import */ var _lib_commission__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/commission */ \"(app-pages-browser)/./src/lib/commission.ts\");\n/* harmony import */ var _app_actions_admin_orders__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/app/actions/admin/orders */ \"(app-pages-browser)/./src/app/actions/admin/orders.ts\");\n/* harmony import */ var _app_actions_admin_products__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/app/actions/admin/products */ \"(app-pages-browser)/./src/app/actions/admin/products.ts\");\n/* harmony import */ var _app_actions_admin_inventory__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/app/actions/admin/inventory */ \"(app-pages-browser)/./src/app/actions/admin/inventory.ts\");\n/* harmony import */ var _app_actions_checkout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/app/actions/checkout */ \"(app-pages-browser)/./src/app/actions/checkout.ts\");\n/* harmony import */ var _app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/app/actions/admin/system */ \"(app-pages-browser)/./src/app/actions/admin/system.ts\");\n/* harmony import */ var _app_actions_admin_customers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/app/actions/admin/customers */ \"(app-pages-browser)/./src/app/actions/admin/customers.ts\");\n/* harmony import */ var _app_actions_admin_financials__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/app/actions/admin/financials */ \"(app-pages-browser)/./src/app/actions/admin/financials.ts\");\n/* harmony import */ var _app_actions_admin_categories__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/app/actions/admin/categories */ \"(app-pages-browser)/./src/app/actions/admin/categories.ts\");\n/* __next_internal_client_entry_do_not_use__ AdminProvider,useAdmin,useAdminData auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n// Server Actions\n\n\n\n\n\n\n\n\nconst AdminContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n// Helper for installment calculation\nfunction recalculateInstallments(total, installmentsCount, orderId, firstDueDate) {\n    if (installmentsCount <= 0 || total < 0) return [];\n    const totalInCents = Math.round(total * 100);\n    const baseInstallmentValueInCents = Math.floor(totalInCents / installmentsCount);\n    let remainderInCents = totalInCents % installmentsCount;\n    const newInstallmentDetails = [];\n    for(let i = 0; i < installmentsCount; i++){\n        let installmentValueCents = baseInstallmentValueInCents;\n        if (remainderInCents > 0) {\n            installmentValueCents++;\n            remainderInCents--;\n        }\n        newInstallmentDetails.push({\n            id: \"inst-\".concat(orderId, \"-\").concat(i + 1),\n            installmentNumber: i + 1,\n            amount: installmentValueCents / 100,\n            dueDate: (0,_barrel_optimize_names_addMonths_date_fns__WEBPACK_IMPORTED_MODULE_14__.addMonths)(new Date(firstDueDate), i).toISOString(),\n            status: 'Pendente',\n            paidAmount: 0,\n            payments: []\n        });\n    }\n    return newInstallmentDetails;\n}\nconst AdminProvider = (param)=>{\n    let { children } = param;\n    _s();\n    const { products: productsData, categories, updateProductLocally, addProductLocally, deleteProductLocally } = (0,_DataContext__WEBPACK_IMPORTED_MODULE_3__.useData)();\n    const { toast } = (0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const { user, users } = (0,_AuthContext__WEBPACK_IMPORTED_MODULE_4__.useAuth)();\n    const isFetching = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const hasPaginatedOrdersRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Use local state for orders, etc.\n    const [orders, setOrders] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [ordersNextCursor, setOrdersNextCursor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasMoreOrders, setHasMoreOrders] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isLoadingMoreOrders, setIsLoadingMoreOrders] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [customers, setCustomers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [commissionPayments, setCommissionPayments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [stockAudits, setStockAudits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [avarias, setAvarias] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [chatSessions, setChatSessions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [deletedCustomers, setDeletedCustomers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const onlyDigits = (value)=>String(value || '').replace(/\\D/g, '');\n    const getCustomerKey = (customer)=>{\n        if (!customer) return '';\n        const cpf = onlyDigits(customer.cpf);\n        if (cpf) return cpf;\n        const name = String(customer.name || '').trim();\n        const phone = String(customer.phone || '').trim();\n        if (!name && !phone) return '';\n        return \"\".concat(name, \"-\").concat(phone);\n    };\n    const mergeOrdersById = (prev, fresh)=>{\n        const byId = new Map();\n        for (const o of prev)byId.set(o.id, o);\n        for (const o of fresh){\n            const current = byId.get(o.id);\n            byId.set(o.id, current ? {\n                ...current,\n                ...o\n            } : o);\n        }\n        return Array.from(byId.values()).sort((a, b)=>new Date(b.date).getTime() - new Date(a.date).getTime());\n    };\n    // Polling Function\n    const fetchData = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdminProvider.useCallback[fetchData]\": async ()=>{\n            if (!user) return;\n            const [ordersRes, customersRes, commRes, auditRes, avariaRes] = await Promise.allSettled([\n                fetch('/api/admin/orders?limit=20&includeItems=0', {\n                    cache: 'no-store'\n                }).then({\n                    \"AdminProvider.useCallback[fetchData]\": (r)=>r.json()\n                }[\"AdminProvider.useCallback[fetchData]\"]),\n                fetch('/api/admin/customers', {\n                    cache: 'no-store'\n                }).then({\n                    \"AdminProvider.useCallback[fetchData]\": (r)=>r.json()\n                }[\"AdminProvider.useCallback[fetchData]\"]),\n                fetch('/api/admin/commission-payments', {\n                    cache: 'no-store'\n                }).then({\n                    \"AdminProvider.useCallback[fetchData]\": (r)=>r.json()\n                }[\"AdminProvider.useCallback[fetchData]\"]),\n                fetch('/api/admin/stock-audits', {\n                    cache: 'no-store'\n                }).then({\n                    \"AdminProvider.useCallback[fetchData]\": (r)=>r.json()\n                }[\"AdminProvider.useCallback[fetchData]\"]),\n                fetch('/api/admin/avarias', {\n                    cache: 'no-store'\n                }).then({\n                    \"AdminProvider.useCallback[fetchData]\": (r)=>r.json()\n                }[\"AdminProvider.useCallback[fetchData]\"])\n            ]);\n            if (ordersRes.status === 'fulfilled' && ordersRes.value.success && ordersRes.value.data) {\n                const fresh = ordersRes.value.data;\n                setOrders({\n                    \"AdminProvider.useCallback[fetchData]\": (prev)=>mergeOrdersById(prev, fresh)\n                }[\"AdminProvider.useCallback[fetchData]\"]);\n                if (!hasPaginatedOrdersRef.current) {\n                    setOrdersNextCursor(ordersRes.value.nextCursor || null);\n                    setHasMoreOrders(!!ordersRes.value.nextCursor);\n                }\n            }\n            if (customersRes.status === 'fulfilled' && customersRes.value.success && customersRes.value.data) {\n                setCustomers(customersRes.value.data);\n            }\n            if (commRes.status === 'fulfilled' && commRes.value.success && commRes.value.data) {\n                setCommissionPayments(commRes.value.data);\n            }\n            if (auditRes.status === 'fulfilled' && auditRes.value.success && auditRes.value.data) {\n                setStockAudits(auditRes.value.data);\n            }\n            if (avariaRes.status === 'fulfilled' && avariaRes.value.success && avariaRes.value.data) {\n                setAvarias(avariaRes.value.data);\n            }\n        }\n    }[\"AdminProvider.useCallback[fetchData]\"], [\n        user\n    ]);\n    const loadMoreOrders = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"AdminProvider.useCallback[loadMoreOrders]\": async ()=>{\n            if (!user) return;\n            if (!hasMoreOrders) return;\n            if (!ordersNextCursor) return;\n            if (isLoadingMoreOrders) return;\n            setIsLoadingMoreOrders(true);\n            try {\n                const res = await fetch(\"/api/admin/orders?limit=20&includeItems=0&cursor=\".concat(encodeURIComponent(ordersNextCursor)), {\n                    cache: 'no-store'\n                }).then({\n                    \"AdminProvider.useCallback[loadMoreOrders]\": (r)=>r.json()\n                }[\"AdminProvider.useCallback[loadMoreOrders]\"]);\n                if (!(res === null || res === void 0 ? void 0 : res.success) || !(res === null || res === void 0 ? void 0 : res.data)) return;\n                hasPaginatedOrdersRef.current = true;\n                const next = res.nextCursor || null;\n                setOrdersNextCursor(next);\n                setHasMoreOrders(!!next);\n                setOrders({\n                    \"AdminProvider.useCallback[loadMoreOrders]\": (prev)=>{\n                        const seen = new Set(prev.map({\n                            \"AdminProvider.useCallback[loadMoreOrders]\": (o)=>o.id\n                        }[\"AdminProvider.useCallback[loadMoreOrders]\"]));\n                        const merged = [\n                            ...prev\n                        ];\n                        for (const o of res.data){\n                            if (!seen.has(o.id)) merged.push(o);\n                        }\n                        return merged.sort({\n                            \"AdminProvider.useCallback[loadMoreOrders]\": (a, b)=>new Date(b.date).getTime() - new Date(a.date).getTime()\n                        }[\"AdminProvider.useCallback[loadMoreOrders]\"]);\n                    }\n                }[\"AdminProvider.useCallback[loadMoreOrders]\"]);\n            } finally{\n                setIsLoadingMoreOrders(false);\n            }\n        }\n    }[\"AdminProvider.useCallback[loadMoreOrders]\"], [\n        user,\n        hasMoreOrders,\n        ordersNextCursor,\n        isLoadingMoreOrders\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminProvider.useEffect\": ()=>{\n            const tick = {\n                \"AdminProvider.useEffect.tick\": async ()=>{\n                    if (isFetching.current) return;\n                    isFetching.current = true;\n                    try {\n                        await fetchData();\n                    } finally{\n                        isFetching.current = false;\n                    }\n                }\n            }[\"AdminProvider.useEffect.tick\"];\n            tick();\n            const onVisibility = {\n                \"AdminProvider.useEffect.onVisibility\": ()=>{\n                    if (document.visibilityState === 'visible') tick();\n                }\n            }[\"AdminProvider.useEffect.onVisibility\"];\n            document.addEventListener('visibilitychange', onVisibility);\n            const interval = setInterval({\n                \"AdminProvider.useEffect.interval\": ()=>{\n                    if (document.visibilityState === 'visible') tick();\n                }\n            }[\"AdminProvider.useEffect.interval\"], 30000);\n            return ({\n                \"AdminProvider.useEffect\": ()=>{\n                    clearInterval(interval);\n                    document.removeEventListener('visibilitychange', onVisibility);\n                }\n            })[\"AdminProvider.useEffect\"];\n        }\n    }[\"AdminProvider.useEffect\"], [\n        fetchData\n    ]);\n    const addOrder = async (order, logAction, user)=>{\n        var _order_items;\n        const orderId = \"PED-\".concat(Date.now().toString().slice(-6));\n        const subtotal = ((_order_items = order.items) === null || _order_items === void 0 ? void 0 : _order_items.reduce((acc, item)=>acc + item.price * item.quantity, 0)) || 0;\n        const total = subtotal - (order.discount || 0);\n        const totalFinanced = total - (order.downPayment || 0);\n        let installmentDetails = [];\n        let installmentValue = 0;\n        if ((order.installments || 0) > 0 && order.firstDueDate) {\n            var _installmentDetails_;\n            installmentDetails = recalculateInstallments(totalFinanced, order.installments, orderId, order.firstDueDate.toISOString());\n            installmentValue = ((_installmentDetails_ = installmentDetails[0]) === null || _installmentDetails_ === void 0 ? void 0 : _installmentDetails_.amount) || 0;\n        }\n        const orderData = {\n            ...order,\n            id: orderId,\n            total,\n            subtotal,\n            installmentDetails,\n            installmentValue,\n            status: 'Processando',\n            createdAt: new Date().toISOString(),\n            items: order.items || [],\n            customer: order.customer,\n            sellerId: order.sellerId || (user === null || user === void 0 ? void 0 : user.id) || '',\n            sellerName: order.sellerName || (user === null || user === void 0 ? void 0 : user.name) || '',\n            commissionPaid: false\n        };\n        orderData.commission = (0,_lib_commission__WEBPACK_IMPORTED_MODULE_5__.calculateOrderCommission)(orderData, productsData);\n        const res = await (0,_app_actions_checkout__WEBPACK_IMPORTED_MODULE_9__.createOrderAction)(orderData, order.customer);\n        if (!res.success) {\n            throw new Error(res.error || 'Failed to create order');\n        }\n        logAction('Criação de Pedido', \"Pedido \".concat(orderId, \" criado.\"), user);\n        setOrders((prev)=>[\n                orderData,\n                ...prev\n            ]);\n        return orderData;\n    };\n    const deleteOrder = async (orderId, logAction, user)=>{\n        const previousOrder = orders.find((o)=>o.id === orderId);\n        setOrders((prev)=>prev.map((o)=>o.id === orderId ? {\n                    ...o,\n                    status: 'Excluído'\n                } : o));\n        try {\n            const res = await (0,_app_actions_admin_orders__WEBPACK_IMPORTED_MODULE_6__.moveOrderToTrashAction)(orderId);\n            if (!res.success) throw new Error(res.error || 'Falha ao mover para lixeira');\n            logAction('Exclusão de Pedido', \"Pedido \".concat(orderId, \" movido para lixeira.\"), user);\n            fetchData();\n        } catch (e) {\n            if (previousOrder) {\n                setOrders((prev)=>prev.map((o)=>o.id === orderId ? previousOrder : o));\n            }\n            toast({\n                title: \"Erro\",\n                description: (e === null || e === void 0 ? void 0 : e.message) || 'Não foi possível excluir o pedido.',\n                variant: \"destructive\"\n            });\n        }\n    };\n    const permanentlyDeleteOrder = async (orderId, logAction, user)=>{\n        const previousOrder = orders.find((o)=>o.id === orderId);\n        setOrders((prev)=>prev.filter((o)=>o.id !== orderId));\n        try {\n            const res = await (0,_app_actions_admin_orders__WEBPACK_IMPORTED_MODULE_6__.permanentlyDeleteOrderAction)(orderId);\n            if (!res.success) throw new Error(res.error || 'Falha ao excluir permanentemente');\n            logAction('Exclusão Permanente', \"Pedido \".concat(orderId, \" exclu\\xeddo.\"), user);\n            fetchData();\n        } catch (e) {\n            if (previousOrder) {\n                setOrders((prev)=>[\n                        previousOrder,\n                        ...prev\n                    ]);\n            }\n            toast({\n                title: \"Erro\",\n                description: (e === null || e === void 0 ? void 0 : e.message) || 'Não foi possível excluir o pedido.',\n                variant: \"destructive\"\n            });\n        }\n    };\n    const updateOrderStatus = async (orderId, status, logAction, user)=>{\n        const previousOrder = orders.find((o)=>o.id === orderId);\n        let baseNext = previousOrder ? {\n            ...previousOrder,\n            status\n        } : null;\n        const patch = {\n            status\n        };\n        if (status === 'Entregue' && baseNext && !baseNext.sellerId && baseNext.sellerName) {\n            const matched = users.find((u)=>u.name === baseNext.sellerName);\n            if (matched) {\n                baseNext = {\n                    ...baseNext,\n                    sellerId: matched.id,\n                    sellerName: matched.name\n                };\n                patch.sellerId = matched.id;\n                patch.sellerName = matched.name;\n            }\n        }\n        var _baseNext_commission;\n        if (status === 'Entregue' && baseNext && baseNext.isCommissionManual !== true && (!Number.isFinite(baseNext.commission) || ((_baseNext_commission = baseNext.commission) !== null && _baseNext_commission !== void 0 ? _baseNext_commission : 0) <= 0) && !!baseNext.sellerId) {\n            patch.commission = (0,_lib_commission__WEBPACK_IMPORTED_MODULE_5__.calculateOrderCommission)(baseNext, productsData);\n            patch.commissionPaid = false;\n            patch.isCommissionManual = false;\n        }\n        setOrders((prev)=>prev.map((o)=>o.id === orderId ? {\n                    ...o,\n                    ...patch\n                } : o));\n        try {\n            const res = await (0,_app_actions_admin_orders__WEBPACK_IMPORTED_MODULE_6__.updateOrderStatusAction)(orderId, status, user);\n            if (!res.success) throw new Error(res.error || 'Falha ao atualizar status');\n            logAction('Status Atualizado', \"Pedido \".concat(orderId, \" alterado para \").concat(status, \".\"), user);\n            fetchData();\n        } catch (e) {\n            if (previousOrder) {\n                setOrders((prev)=>prev.map((o)=>o.id === orderId ? previousOrder : o));\n            }\n            toast({\n                title: \"Erro\",\n                description: (e === null || e === void 0 ? void 0 : e.message) || 'Não foi possível atualizar o status.',\n                variant: \"destructive\"\n            });\n        }\n    };\n    const recordInstallmentPayment = async (orderId, installmentNumber, payment, logAction, user)=>{\n        // Implement using existing logic or action\n        // For now, placeholder to allow compile\n        console.log('Record payment', orderId, installmentNumber);\n    };\n    const addProduct = async (productData, logAction, user)=>{\n        const res = await (0,_app_actions_admin_products__WEBPACK_IMPORTED_MODULE_7__.addProductAction)(productData, user);\n        if (res.success) {\n            logAction('Produto Criado', \"Produto \".concat(productData.name, \" criado.\"), user);\n        // Optimistic update handled by DataContext polling usually, but we can trigger it.\n        // For now, allow refresh.\n        }\n    };\n    const updateProduct = async (product, logAction, user)=>{\n        const res = await (0,_app_actions_admin_products__WEBPACK_IMPORTED_MODULE_7__.updateProductAction)(product, user);\n        if (res.success) {\n            logAction('Produto Atualizado', \"Produto \".concat(product.name, \" atualizado.\"), user);\n            updateProductLocally(product);\n        }\n    };\n    const deleteProduct = async (productId, logAction, user)=>{\n        const res = await (0,_app_actions_admin_products__WEBPACK_IMPORTED_MODULE_7__.deleteProductAction)(productId, user);\n        if (res.success) {\n            logAction('Produto Removido', \"Produto \".concat(productId, \" removido.\"), user);\n            deleteProductLocally(productId);\n        }\n    };\n    const addCustomer = async (customerData, logAction, user)=>{\n        const res = await (0,_app_actions_admin_customers__WEBPACK_IMPORTED_MODULE_11__.addCustomerAction)(customerData, user);\n        if (res.success) {\n            logAction('Cliente Adicionado', \"Cliente \".concat(customerData.name, \" adicionado.\"), user);\n            // Add to local state\n            setCustomers((prev)=>[\n                    ...prev,\n                    customerData\n                ]);\n        } else {\n            toast({\n                title: \"Erro\",\n                description: res.error,\n                variant: 'destructive'\n            });\n        }\n    };\n    // Partial implementations for complex logic\n    const generateCustomerCodes = async (logAction, user)=>{\n        const res = await (0,_app_actions_admin_customers__WEBPACK_IMPORTED_MODULE_11__.generateCustomerCodesAction)(user);\n        if (res.success) {\n            logAction('Códigos Gerados', \"Gerados c\\xf3digos para \".concat(res.count || 0, \" clientes.\"), user);\n            return {\n                newCustomers: res.count || 0,\n                updatedOrders: 0\n            };\n        }\n        return {\n            newCustomers: 0,\n            updatedOrders: 0\n        };\n    };\n    const reversePayment = async ()=>{};\n    const updateInstallmentDueDate = async ()=>{};\n    const updateInstallmentAmount = async ()=>{};\n    const updateCustomer = async (oldCustomer, updatedCustomerData, logAction, user)=>{\n        const res = await (0,_app_actions_admin_customers__WEBPACK_IMPORTED_MODULE_11__.updateCustomerAction)(updatedCustomerData, user);\n        if (res.success) {\n            logAction('Cliente Atualizado', \"Cliente \".concat(updatedCustomerData.name, \" atualizado.\"), user);\n            setCustomers((prev)=>prev.map((c)=>c.id === updatedCustomerData.id ? updatedCustomerData : c));\n        } else {\n            toast({\n                title: \"Erro\",\n                description: res.error,\n                variant: 'destructive'\n            });\n        }\n    };\n    const deleteCustomer = async (customer, logAction, user)=>{\n        const res = await (0,_app_actions_admin_customers__WEBPACK_IMPORTED_MODULE_11__.deleteCustomerAction)(customer.id, user);\n        if (res.success) {\n            logAction('Cliente Bloqueado/Excluído', \"Cliente \".concat(customer.name, \" bloqueado/exclu\\xeddo.\"), user);\n            // Update local state to show as blocked or remove depending on logic (here assume moved to blocked/trash)\n            setCustomers((prev)=>prev.map((c)=>c.id === customer.id ? {\n                        ...c,\n                        blocked: true,\n                        blockedReason: 'Excluído'\n                    } : c));\n        } else {\n            toast({\n                title: \"Erro\",\n                description: res.error,\n                variant: 'destructive'\n            });\n        }\n    };\n    const restoreCustomerFromTrash = async ()=>{};\n    const permanentlyDeleteCustomerFromTrash = async ()=>{};\n    const importCustomers = async (csvData, logAction, user)=>{\n        // Assuming csvData is actually JSON string based on usual usage in this app or we parse CSV here.\n        // The signature says csvData key but usage in page might be JSON. \n        // Let's assume the user passes parsed object or JSON string. \n        try {\n            const parsed = JSON.parse(csvData);\n            const list = Array.isArray(parsed) ? parsed : [];\n            if (list.length > 0) {\n                await (0,_app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__.importCustomersAction)(list, user);\n                logAction('Importação de Clientes', \"\".concat(list.length, \" clientes importados.\"), user);\n            }\n        } catch (e) {\n            console.error(\"Invalid Import Data\", e);\n        }\n    };\n    const updateOrderDetails = async (orderId, details, logAction, user)=>{\n        const currentOrder = orders.find((o)=>o.id === orderId);\n        if (!currentOrder) return;\n        let updatedOrder = {\n            ...currentOrder,\n            ...details\n        };\n        // Handle Down Payment Reset\n        if (details.resetDownPayment) {\n            updatedOrder.downPayment = 0;\n        }\n        // Recalculate totals\n        const subtotal = updatedOrder.items.reduce((acc, item)=>acc + item.price * item.quantity, 0);\n        updatedOrder.total = subtotal - (updatedOrder.discount || 0);\n        const totalFinanced = updatedOrder.total - (updatedOrder.downPayment || 0);\n        // Recalculate Installments if relevant fields changed\n        const needsRecalculation = details.installments !== undefined || details.discount !== undefined || details.downPayment !== undefined || details.resetDownPayment || details.paymentMethod === 'Crediário' && currentOrder.paymentMethod !== 'Crediário';\n        if (needsRecalculation && updatedOrder.paymentMethod === 'Crediário') {\n            var _updatedOrder_installmentDetails_, _updatedOrder_installmentDetails, _updatedOrder_installmentDetails_1;\n            // Default logic: keep existing first due date or default to 30 days from now if not set\n            const firstDueDate = ((_updatedOrder_installmentDetails = updatedOrder.installmentDetails) === null || _updatedOrder_installmentDetails === void 0 ? void 0 : (_updatedOrder_installmentDetails_ = _updatedOrder_installmentDetails[0]) === null || _updatedOrder_installmentDetails_ === void 0 ? void 0 : _updatedOrder_installmentDetails_.dueDate) || (0,_barrel_optimize_names_addMonths_date_fns__WEBPACK_IMPORTED_MODULE_14__.addMonths)(new Date(), 1).toISOString();\n            updatedOrder.installmentDetails = recalculateInstallments(totalFinanced, updatedOrder.installments || 1, orderId, firstDueDate);\n            updatedOrder.installmentValue = ((_updatedOrder_installmentDetails_1 = updatedOrder.installmentDetails[0]) === null || _updatedOrder_installmentDetails_1 === void 0 ? void 0 : _updatedOrder_installmentDetails_1.amount) || 0;\n        } else if (updatedOrder.paymentMethod !== 'Crediário') {\n            updatedOrder.installmentDetails = [];\n            updatedOrder.installmentValue = 0;\n            updatedOrder.installments = 0;\n        }\n        const shouldRecalculateCommission = updatedOrder.isCommissionManual !== true && (details.sellerId !== undefined || details.sellerName !== undefined || details.items !== undefined || details.status === 'Entregue' && currentOrder.status !== 'Entregue');\n        if (shouldRecalculateCommission) {\n            updatedOrder.commission = (0,_lib_commission__WEBPACK_IMPORTED_MODULE_5__.calculateOrderCommission)(updatedOrder, productsData);\n        }\n        setOrders((prev)=>prev.map((o)=>o.id === orderId ? updatedOrder : o));\n        try {\n            const res = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @/app/actions/admin/orders */ \"(app-pages-browser)/./src/app/actions/admin/orders.ts\")).then((mod)=>mod.updateOrderDetailsAction(orderId, updatedOrder));\n            if (res.success) {\n                logAction('Atualização de Pedido', \"Detalhes do pedido \".concat(orderId, \" atualizados.\"), user);\n                fetchData();\n            } else {\n                throw new Error(res.error || 'Falha ao atualizar pedido');\n            }\n        } catch (e) {\n            setOrders((prev)=>prev.map((o)=>o.id === orderId ? currentOrder : o));\n            toast({\n                title: \"Erro ao atualizar\",\n                description: (e === null || e === void 0 ? void 0 : e.message) || 'Não foi possível atualizar o pedido.',\n                variant: \"destructive\"\n            });\n        }\n    };\n    const importProducts = async (productsToImport, logAction, user)=>{\n        const res = await (0,_app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__.importProductsAction)(productsToImport, user);\n        if (res.success) {\n            logAction('Importação de Produtos', \"\".concat(productsToImport.length, \" produtos importados.\"), user);\n        // Refresh handled by polling\n        }\n    };\n    const addCategory = async (categoryName, logAction, user)=>{\n        const res = await (0,_app_actions_admin_categories__WEBPACK_IMPORTED_MODULE_13__.addCategoryAction)(categoryName, user);\n        if (res.success) {\n            logAction('Categoria Criada', \"Categoria \".concat(categoryName, \" criada.\"), user);\n        // DataContext polling will update the list\n        }\n    };\n    const deleteCategory = async (categoryId, logAction, user)=>{\n        const res = await (0,_app_actions_admin_categories__WEBPACK_IMPORTED_MODULE_13__.deleteCategoryAction)(categoryId, user);\n        if (res.success) logAction('Categoria Removida', \"Categoria removida.\", user);\n    };\n    const updateCategoryName = async (categoryId, newName, logAction, user)=>{\n        const res = await (0,_app_actions_admin_categories__WEBPACK_IMPORTED_MODULE_13__.updateCategoryNameAction)(categoryId, newName, user);\n        if (res.success) logAction('Categoria Atualizada', \"Categoria atualizada para \".concat(newName, \".\"), user);\n    };\n    const addSubcategory = async (categoryId, subcategoryName, logAction, user)=>{\n        const res = await (0,_app_actions_admin_categories__WEBPACK_IMPORTED_MODULE_13__.addSubcategoryAction)(categoryId, subcategoryName, user);\n        if (res.success) logAction('Subcategoria Criada', \"Subcategoria \".concat(subcategoryName, \" criada.\"), user);\n    };\n    const updateSubcategory = async (categoryId, oldSub, newSub, logAction, user)=>{\n        const res = await (0,_app_actions_admin_categories__WEBPACK_IMPORTED_MODULE_13__.updateSubcategoryAction)(categoryId, oldSub, newSub, user);\n        if (res.success) logAction('Subcategoria Atualizada', \"Subcategoria \".concat(oldSub, \" -> \").concat(newSub, \".\"), user);\n    };\n    const deleteSubcategory = async (categoryId, subcategoryName, logAction, user)=>{\n        const res = await (0,_app_actions_admin_categories__WEBPACK_IMPORTED_MODULE_13__.deleteSubcategoryAction)(categoryId, subcategoryName, user);\n        if (res.success) logAction('Subcategoria Removida', \"Subcategoria \".concat(subcategoryName, \" removida.\"), user);\n    };\n    const moveCategory = async ()=>{};\n    const reorderSubcategories = async ()=>{};\n    const moveSubcategory = async ()=>{};\n    const payCommissions = async (sellerId, sellerName, amount, orderIds, period, logAction, user)=>{\n        const res = await (0,_app_actions_admin_financials__WEBPACK_IMPORTED_MODULE_12__.payCommissionAction)(sellerId, sellerName, amount, orderIds, period, user);\n        if (res.success) {\n            logAction('Pagamento de Comissão', \"Pagamento de R$ \".concat(amount.toFixed(2), \" para \").concat(sellerName, \".\"), user);\n            return res.data;\n        }\n        return null;\n    };\n    const reverseCommissionPayment = async (paymentId, logAction, user)=>{\n        const res = await (0,_app_actions_admin_financials__WEBPACK_IMPORTED_MODULE_12__.reverseCommissionPaymentAction)(paymentId, user);\n        if (res.success) logAction('Estorno de Comissão', \"Pagamento \".concat(paymentId, \" estornado.\"), user);\n    };\n    const saveStockAudit = async (audit, logAction, user)=>{\n        const res = await (0,_app_actions_admin_inventory__WEBPACK_IMPORTED_MODULE_8__.saveStockAuditAction)(audit, user);\n        if (res.success) {\n            logAction('Auditoria Salva', \"Auditoria de estoque salva.\", user);\n            setStockAudits((prev)=>[\n                    ...prev.filter((a)=>a.id !== audit.id),\n                    audit\n                ]);\n        }\n    };\n    const addAvaria = async (avaria, logAction, user)=>{\n        const res = await (0,_app_actions_admin_inventory__WEBPACK_IMPORTED_MODULE_8__.addAvariaAction)(avaria, user);\n        if (res.success) {\n            logAction('Avaria Adicionada', \"Avaria adicionada.\", user);\n            setAvarias((prev)=>[\n                    ...prev,\n                    avaria\n                ]);\n        }\n    };\n    const updateAvaria = async (id, data, logAction, user)=>{\n        const res = await (0,_app_actions_admin_inventory__WEBPACK_IMPORTED_MODULE_8__.updateAvariaAction)(id, data, user);\n        if (res.success) {\n            logAction('Avaria Atualizada', \"Avaria atualizada.\", user);\n            setAvarias((prev)=>prev.map((a)=>a.id === id ? {\n                        ...a,\n                        ...data\n                    } : a));\n        }\n    };\n    const deleteAvaria = async (id, logAction, user)=>{\n        const res = await (0,_app_actions_admin_inventory__WEBPACK_IMPORTED_MODULE_8__.deleteAvariaAction)(id, user);\n        if (res.success) {\n            logAction('Avaria Excluída', \"Avaria exclu\\xedda.\", user);\n            setAvarias((prev)=>prev.filter((a)=>a.id !== id));\n        }\n    };\n    const emptyTrash = async (logAction, user)=>{\n        await (0,_app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__.emptyTrashAction)(user);\n        logAction('Lixeira Esvaziada', 'Lixeira de produtos esvaziada.', user);\n    };\n    const restoreProduct = async (product, logAction, user)=>{\n        await (0,_app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__.restoreProductAction)(product.id, user);\n        logAction('Produto Restaurado', \"Produto \".concat(product.name, \" restaurado.\"), user);\n        // Local update helper if needed, but polling works\n        updateProductLocally({\n            ...product,\n            deletedAt: undefined\n        });\n    };\n    const permanentlyDeleteProduct = async (productId, logAction, user)=>{\n        await (0,_app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__.permanentlyDeleteProductWithIdAction)(productId, user);\n        logAction('Produto Excluído Permanentemente', \"Produto \".concat(productId, \" apagado.\"), user);\n        deleteProductLocally(productId);\n    };\n    const fetchDeletedProducts = async ()=>{\n        const res = await (0,_app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__.fetchDeletedProductsAction)();\n        return res.success && res.data ? res.data : [];\n    };\n    const restoreAdminData = async ()=>{}; // Deprecated or specific backup restore logic\n    const resetOrders = async (logAction, user)=>{\n        await (0,_app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__.resetOrdersAction)(user);\n        logAction('Reset de Pedidos', 'Todos os pedidos foram apagados.', user);\n        setOrders([]);\n        setOrdersNextCursor(null);\n        setHasMoreOrders(true);\n        hasPaginatedOrdersRef.current = false;\n    };\n    const resetProducts = async (logAction, user)=>{\n        await (0,_app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__.resetProductsAction)(user);\n        logAction('Reset de Produtos', 'Todos os produtos foram apagados.', user);\n    };\n    const resetFinancials = async (logAction, user)=>{\n        await (0,_app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__.resetFinancialsAction)(user);\n        logAction('Reset Financeiro', 'Dados financeiros resetados.', user);\n    };\n    const resetAllAdminData = async (logAction, user)=>{\n        await (0,_app_actions_admin_system__WEBPACK_IMPORTED_MODULE_10__.resetAllAdminDataAction)(user);\n        logAction('Reset Geral', 'Todos os dados do sistema foram apagados.', user);\n        setOrders([]);\n        setCustomers([]);\n        setOrdersNextCursor(null);\n        setHasMoreOrders(true);\n        hasPaginatedOrdersRef.current = false;\n    };\n    // Computed\n    const customersForUI = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminProvider.useMemo[customersForUI]\": ()=>customers\n    }[\"AdminProvider.useMemo[customersForUI]\"], [\n        customers\n    ]);\n    const customerOrders = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminProvider.useMemo[customerOrders]\": ()=>{\n            const out = {};\n            for (const order of orders){\n                const key = getCustomerKey(order.customer);\n                if (!key) continue;\n                if (!out[key]) out[key] = [];\n                out[key].push(order);\n            }\n            for (const key of Object.keys(out)){\n                out[key] = out[key].sort({\n                    \"AdminProvider.useMemo[customerOrders]\": (a, b)=>new Date(b.date).getTime() - new Date(a.date).getTime()\n                }[\"AdminProvider.useMemo[customerOrders]\"]);\n            }\n            return out;\n        }\n    }[\"AdminProvider.useMemo[customerOrders]\"], [\n        orders\n    ]);\n    const customerFinancials = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminProvider.useMemo[customerFinancials]\": ()=>{\n            const out = {};\n            const getTotalPago = {\n                \"AdminProvider.useMemo[customerFinancials].getTotalPago\": (order)=>{\n                    if (order.paymentMethod === 'Crediário') {\n                        return (order.installmentDetails || []).reduce({\n                            \"AdminProvider.useMemo[customerFinancials].getTotalPago\": (s, inst)=>s + (inst.paidAmount || 0)\n                        }[\"AdminProvider.useMemo[customerFinancials].getTotalPago\"], 0);\n                    }\n                    if (order.paymentMethod === 'Dinheiro') {\n                        return order.total || 0;\n                    }\n                    if (order.paymentMethod === 'Pix') {\n                        var _order_asaas, _order_asaas1;\n                        const isLegacyPix = !((_order_asaas = order.asaas) === null || _order_asaas === void 0 ? void 0 : _order_asaas.paymentId);\n                        const isPaid = isLegacyPix || !!((_order_asaas1 = order.asaas) === null || _order_asaas1 === void 0 ? void 0 : _order_asaas1.paidAt);\n                        return isPaid ? order.total || 0 : 0;\n                    }\n                    return 0;\n                }\n            }[\"AdminProvider.useMemo[customerFinancials].getTotalPago\"];\n            for (const order of orders){\n                if (order.status === 'Excluído') continue;\n                const key = getCustomerKey(order.customer);\n                if (!key) continue;\n                const current = out[key] || {\n                    totalComprado: 0,\n                    totalPago: 0,\n                    saldoDevedor: 0\n                };\n                current.totalComprado += order.total || 0;\n                current.totalPago += getTotalPago(order);\n                current.saldoDevedor = current.totalComprado - current.totalPago;\n                out[key] = current;\n            }\n            return out;\n        }\n    }[\"AdminProvider.useMemo[customerFinancials]\"], [\n        orders\n    ]);\n    const financialSummary = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminProvider.useMemo[financialSummary]\": ()=>({\n                totalVendido: 0,\n                totalRecebido: 0,\n                totalPendente: 0,\n                lucroBruto: 0,\n                monthlyData: []\n            })\n    }[\"AdminProvider.useMemo[financialSummary]\"], [\n        orders\n    ]);\n    const commissionSummary = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"AdminProvider.useMemo[commissionSummary]\": ()=>({\n                totalPendingCommission: 0,\n                commissionsBySeller: []\n            })\n    }[\"AdminProvider.useMemo[commissionSummary]\"], [\n        orders\n    ]);\n    const value = {\n        addOrder,\n        addCustomer,\n        generateCustomerCodes,\n        deleteOrder,\n        permanentlyDeleteOrder,\n        updateOrderStatus,\n        recordInstallmentPayment,\n        reversePayment,\n        updateInstallmentDueDate,\n        updateInstallmentAmount,\n        updateCustomer,\n        deleteCustomer,\n        restoreCustomerFromTrash,\n        permanentlyDeleteCustomerFromTrash,\n        importCustomers,\n        updateOrderDetails,\n        addProduct,\n        updateProduct,\n        deleteProduct,\n        importProducts,\n        addCategory,\n        deleteCategory,\n        updateCategoryName,\n        addSubcategory,\n        updateSubcategory,\n        deleteSubcategory,\n        moveCategory,\n        reorderSubcategories,\n        moveSubcategory,\n        payCommissions,\n        reverseCommissionPayment,\n        restoreAdminData,\n        resetOrders,\n        resetProducts,\n        resetFinancials,\n        resetAllAdminData,\n        saveStockAudit,\n        addAvaria,\n        updateAvaria,\n        deleteAvaria,\n        emptyTrash,\n        restoreProduct,\n        permanentlyDeleteProduct,\n        fetchDeletedProducts,\n        loadMoreOrders,\n        hasMoreOrders,\n        isLoadingMoreOrders,\n        orders,\n        commissionPayments,\n        stockAudits,\n        avarias,\n        chatSessions,\n        customers: customersForUI,\n        deletedCustomers,\n        customerOrders,\n        customerFinancials,\n        financialSummary,\n        commissionSummary\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AdminContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Rafael\\\\Desktop\\\\ADC-PRO-2026-main\\\\src\\\\context\\\\AdminContext.tsx\",\n        lineNumber: 708,\n        columnNumber: 5\n    }, undefined);\n};\n_s(AdminProvider, \"gSCYokTcC1Yc8hR3DPXagcCb9fg=\", false, function() {\n    return [\n        _DataContext__WEBPACK_IMPORTED_MODULE_3__.useData,\n        _hooks_use_toast__WEBPACK_IMPORTED_MODULE_2__.useToast,\n        _AuthContext__WEBPACK_IMPORTED_MODULE_4__.useAuth\n    ];\n});\n_c = AdminProvider;\nconst useAdmin = ()=>{\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AdminContext);\n    if (context === undefined) throw new Error('useAdmin must be used within an AdminProvider');\n    return context;\n};\n_s1(useAdmin, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nconst useAdminData = useAdmin;\nvar _c;\n$RefreshReg$(_c, \"AdminProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb250ZXh0L0FkbWluQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXVIO0FBRTFFO0FBQ0w7QUFDZTtBQUVmO0FBR29CO0FBRTVELGlCQUFpQjtBQUMwTDtBQUNqRztBQUNvQjtBQUNuRTtBQUVnTztBQUNoSjtBQUN0QztBQUNzRjtBQW1FM0wsTUFBTThDLDZCQUFlN0Msb0RBQWFBLENBQStCOEM7QUFFakUscUNBQXFDO0FBQ3JDLFNBQVNDLHdCQUF3QkMsS0FBYSxFQUFFQyxpQkFBeUIsRUFBRUMsT0FBZSxFQUFFQyxZQUFvQjtJQUM5RyxJQUFJRixxQkFBcUIsS0FBS0QsUUFBUSxHQUFHLE9BQU8sRUFBRTtJQUNsRCxNQUFNSSxlQUFlQyxLQUFLQyxLQUFLLENBQUNOLFFBQVE7SUFDeEMsTUFBTU8sOEJBQThCRixLQUFLRyxLQUFLLENBQUNKLGVBQWVIO0lBQzlELElBQUlRLG1CQUFtQkwsZUFBZUg7SUFDdEMsTUFBTVMsd0JBQXVDLEVBQUU7SUFDL0MsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlWLG1CQUFtQlUsSUFBSztRQUMxQyxJQUFJQyx3QkFBd0JMO1FBQzVCLElBQUlFLG1CQUFtQixHQUFHO1lBQ3hCRztZQUNBSDtRQUNGO1FBQ0FDLHNCQUFzQkcsSUFBSSxDQUFDO1lBQ3pCQyxJQUFJLFFBQW1CSCxPQUFYVCxTQUFRLEtBQVMsT0FBTlMsSUFBSTtZQUMzQkksbUJBQW1CSixJQUFJO1lBQ3ZCSyxRQUFRSix3QkFBd0I7WUFDaENLLFNBQVN4RCxxRkFBU0EsQ0FBQyxJQUFJeUQsS0FBS2YsZUFBZVEsR0FBR1EsV0FBVztZQUN6REMsUUFBUTtZQUNSQyxZQUFZO1lBQ1pDLFVBQVUsRUFBRTtRQUNkO0lBQ0Y7SUFDQSxPQUFPWjtBQUNUO0FBRU8sTUFBTWEsZ0JBQWdCO1FBQUMsRUFBRUMsUUFBUSxFQUEyQjs7SUFDakUsTUFBTSxFQUFFQyxVQUFVQyxZQUFZ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UUFBbUJHO1FBQW1CQztRQUFjQztRQUFzQkM7UUFDM0lDO1FBQWdCSTtRQUNoQmE7UUFBa0JDO1FBQWFDO1FBQWVDO1FBQWlCQztRQUMvRGY7UUFBZ0JFO1FBQVdFO1FBQWNDO1FBQ3pDQztRQUNBQztRQUFnQkU7UUFBMEJDO1FBQzFDOUk7UUFBZ0IzRDtRQUFlRTtRQUMvQk47UUFBUVU7UUFBb0JFO1FBQWFFO1FBQVNFO1FBQWNSLFdBQVcyTTtRQUFnQmpNO1FBQWtCa007UUFBZ0JLO1FBQW9CVztRQUFrQk07SUFDcks7SUFFQSxxQkFDRSw4REFBQ2pSLGFBQWFvUixRQUFRO1FBQUN4TixPQUFPQTtrQkFDM0JqQzs7Ozs7O0FBR1AsRUFBRTtHQWxsQldEOztRQUNtRy9ELGlEQUFPQTtRQUNuR0Qsc0RBQVFBO1FBQ0ZHLGlEQUFPQTs7O0tBSHBCNkQ7QUFvbEJOLE1BQU0yUCxXQUFXOztJQUN0QixNQUFNQyxVQUFVbFUsaURBQVVBLENBQUM0QztJQUMzQixJQUFJc1IsWUFBWXJSLFdBQVcsTUFBTSxJQUFJZ0osTUFBTTtJQUMzQyxPQUFPcUk7QUFDVCxFQUFFO0lBSldEO0FBTU4sTUFBTUUsZUFBZUYsU0FBUyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxSYWZhZWxcXERlc2t0b3BcXEFEQy1QUk8tMjAyNi1tYWluXFxzcmNcXGNvbnRleHRcXEFkbWluQ29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgUmVhY3ROb2RlLCB1c2VDYWxsYmFjaywgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBPcmRlciwgUHJvZHVjdCwgSW5zdGFsbG1lbnQsIEN1c3RvbWVySW5mbywgQ2F0ZWdvcnksIFVzZXIsIENvbW1pc3Npb25QYXltZW50LCBQYXltZW50LCBTdG9ja0F1ZGl0LCBBdmFyaWEsIENoYXRTZXNzaW9uIH0gZnJvbSAnQC9saWIvdHlwZXMnO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7XG5pbXBvcnQgeyB1c2VEYXRhIH0gZnJvbSAnLi9EYXRhQ29udGV4dCc7XG5pbXBvcnQgeyBhZGRNb250aHMsIGZvcm1hdCwgcGFyc2VJU08gfSBmcm9tICdkYXRlLWZucyc7XG5pbXBvcnQgeyBwdEJSIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlJztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICcuL0F1dGhDb250ZXh0JztcbmltcG9ydCB7IG5vcm1hbGl6ZUNwZiB9IGZyb20gJ0AvbGliL2N1c3RvbWVyLXRyYXNoJztcbmltcG9ydCB7IGZvcm1hdEN1c3RvbWVyQ29kZSwgcmVzZXJ2ZUN1c3RvbWVyQ29kZXMgfSBmcm9tICdAL2xpYi9jdXN0b21lci1jb2RlJztcbmltcG9ydCB7IGNhbGN1bGF0ZU9yZGVyQ29tbWlzc2lvbiB9IGZyb20gJ0AvbGliL2NvbW1pc3Npb24nO1xuXG4vLyBTZXJ2ZXIgQWN0aW9uc1xuaW1wb3J0IHsgZ2V0QWRtaW5PcmRlcnNBY3Rpb24sIHVwZGF0ZU9yZGVyU3RhdHVzQWN0aW9uLCBtb3ZlT3JkZXJUb1RyYXNoQWN0aW9uLCBwZXJtYW5lbnRseURlbGV0ZU9yZGVyQWN0aW9uLCByZWNvcmRJbnN0YWxsbWVudFBheW1lbnRBY3Rpb24sIHVwZGF0ZU9yZGVyRGV0YWlsc0FjdGlvbiB9IGZyb20gJ0AvYXBwL2FjdGlvbnMvYWRtaW4vb3JkZXJzJztcbmltcG9ydCB7IGFkZFByb2R1Y3RBY3Rpb24sIHVwZGF0ZVByb2R1Y3RBY3Rpb24sIGRlbGV0ZVByb2R1Y3RBY3Rpb24gfSBmcm9tICdAL2FwcC9hY3Rpb25zL2FkbWluL3Byb2R1Y3RzJztcbmltcG9ydCB7IHNhdmVTdG9ja0F1ZGl0QWN0aW9uLCBhZGRBdmFyaWFBY3Rpb24sIHVwZGF0ZUF2YXJpYUFjdGlvbiwgZGVsZXRlQXZhcmlhQWN0aW9uIH0gZnJvbSAnQC9hcHAvYWN0aW9ucy9hZG1pbi9pbnZlbnRvcnknO1xuaW1wb3J0IHsgY3JlYXRlT3JkZXJBY3Rpb24gfSBmcm9tICdAL2FwcC9hY3Rpb25zL2NoZWNrb3V0JztcbmltcG9ydCB7IGdldFByb2R1Y3RzQWN0aW9uIH0gZnJvbSAnQC9hcHAvYWN0aW9ucy9kYXRhJztcbmltcG9ydCB7IHJlc2V0T3JkZXJzQWN0aW9uLCByZXNldFByb2R1Y3RzQWN0aW9uLCByZXNldEZpbmFuY2lhbHNBY3Rpb24sIHJlc2V0QWxsQWRtaW5EYXRhQWN0aW9uLCBpbXBvcnRQcm9kdWN0c0FjdGlvbiwgaW1wb3J0Q3VzdG9tZXJzQWN0aW9uLCBlbXB0eVRyYXNoQWN0aW9uLCByZXN0b3JlUHJvZHVjdEFjdGlvbiwgcGVybWFuZW50bHlEZWxldGVQcm9kdWN0V2l0aElkQWN0aW9uLCBmZXRjaERlbGV0ZWRQcm9kdWN0c0FjdGlvbiB9IGZyb20gJ0AvYXBwL2FjdGlvbnMvYWRtaW4vc3lzdGVtJztcbmltcG9ydCB7IGFkZEN1c3RvbWVyQWN0aW9uLCB1cGRhdGVDdXN0b21lckFjdGlvbiwgZGVsZXRlQ3VzdG9tZXJBY3Rpb24sIGdlbmVyYXRlQ3VzdG9tZXJDb2Rlc0FjdGlvbiB9IGZyb20gJ0AvYXBwL2FjdGlvbnMvYWRtaW4vY3VzdG9tZXJzJztcbmltcG9ydCB7IHBheUNvbW1pc3Npb25BY3Rpb24sIHJldmVyc2VDb21taXNzaW9uUGF5bWVudEFjdGlvbiB9IGZyb20gJ0AvYXBwL2FjdGlvbnMvYWRtaW4vZmluYW5jaWFscyc7XG5pbXBvcnQgeyBhZGRDYXRlZ29yeUFjdGlvbiwgZGVsZXRlQ2F0ZWdvcnlBY3Rpb24sIHVwZGF0ZUNhdGVnb3J5TmFtZUFjdGlvbiwgYWRkU3ViY2F0ZWdvcnlBY3Rpb24sIHVwZGF0ZVN1YmNhdGVnb3J5QWN0aW9uLCBkZWxldGVTdWJjYXRlZ29yeUFjdGlvbiB9IGZyb20gJ0AvYXBwL2FjdGlvbnMvYWRtaW4vY2F0ZWdvcmllcyc7XG5cbnR5cGUgTG9nQWN0aW9uID0gKGFjdGlvbjogc3RyaW5nLCBkZXRhaWxzOiBzdHJpbmcsIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgQWRtaW5Db250ZXh0VHlwZSB7XG4gIGFkZE9yZGVyOiAob3JkZXI6IFBhcnRpYWw8T3JkZXI+ICYgeyBmaXJzdER1ZURhdGU6IERhdGUgfSwgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiBQcm9taXNlPE9yZGVyIHwgbnVsbD47XG4gIGFkZEN1c3RvbWVyOiAoY3VzdG9tZXJEYXRhOiBDdXN0b21lckluZm8sIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZ2VuZXJhdGVDdXN0b21lckNvZGVzOiAobG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiBQcm9taXNlPHsgbmV3Q3VzdG9tZXJzOiBudW1iZXI7IHVwZGF0ZWRPcmRlcnM6IG51bWJlciB9PjtcbiAgZGVsZXRlT3JkZXI6IChvcmRlcklkOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcGVybWFuZW50bHlEZWxldGVPcmRlcjogKG9yZGVySWQ6IHN0cmluZywgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB1cGRhdGVPcmRlclN0YXR1czogKG9yZGVySWQ6IHN0cmluZywgc3RhdHVzOiBPcmRlclsnc3RhdHVzJ10sIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmVjb3JkSW5zdGFsbG1lbnRQYXltZW50OiAob3JkZXJJZDogc3RyaW5nLCBpbnN0YWxsbWVudE51bWJlcjogbnVtYmVyLCBwYXltZW50OiBPbWl0PFBheW1lbnQsICdyZWNlaXZlZEJ5Jz4sIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmV2ZXJzZVBheW1lbnQ6IChvcmRlcklkOiBzdHJpbmcsIGluc3RhbGxtZW50TnVtYmVyOiBudW1iZXIsIHBheW1lbnRJZDogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIHVwZGF0ZUluc3RhbGxtZW50RHVlRGF0ZTogKG9yZGVySWQ6IHN0cmluZywgaW5zdGFsbG1lbnROdW1iZXI6IG51bWJlciwgbmV3RHVlRGF0ZTogRGF0ZSwgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB1cGRhdGVJbnN0YWxsbWVudEFtb3VudDogKG9yZGVySWQ6IHN0cmluZywgaW5zdGFsbG1lbnROdW1iZXI6IG51bWJlciwgbmV3QW1vdW50OiBudW1iZXIsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdXBkYXRlQ3VzdG9tZXI6IChvbGRDdXN0b21lcjogQ3VzdG9tZXJJbmZvLCB1cGRhdGVkQ3VzdG9tZXJEYXRhOiBDdXN0b21lckluZm8sIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZGVsZXRlQ3VzdG9tZXI6IChjdXN0b21lcjogQ3VzdG9tZXJJbmZvLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIHJlc3RvcmVDdXN0b21lckZyb21UcmFzaDogKGN1c3RvbWVyOiBDdXN0b21lckluZm8sIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcGVybWFuZW50bHlEZWxldGVDdXN0b21lckZyb21UcmFzaDogKGN1c3RvbWVyOiBDdXN0b21lckluZm8sIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgaW1wb3J0Q3VzdG9tZXJzOiAoY3N2RGF0YTogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIHVwZGF0ZU9yZGVyRGV0YWlsczogKG9yZGVySWQ6IHN0cmluZywgZGV0YWlsczogUGFydGlhbDxPcmRlcj4gJiB7IGRvd25QYXltZW50PzogbnVtYmVyLCByZXNldERvd25QYXltZW50PzogYm9vbGVhbiB9LCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIGFkZFByb2R1Y3Q6IChwcm9kdWN0RGF0YTogT21pdDxQcm9kdWN0LCAnaWQnIHwgJ2RhdGEtYWktaGludCcgfCAnY3JlYXRlZEF0Jz4sIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdXBkYXRlUHJvZHVjdDogKHByb2R1Y3Q6IFByb2R1Y3QsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZGVsZXRlUHJvZHVjdDogKHByb2R1Y3RJZDogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIGltcG9ydFByb2R1Y3RzOiAocHJvZHVjdHNUb0ltcG9ydDogUHJvZHVjdFtdLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIGFkZENhdGVnb3J5OiAoY2F0ZWdvcnlOYW1lOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZGVsZXRlQ2F0ZWdvcnk6IChjYXRlZ29yeUlkOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdXBkYXRlQ2F0ZWdvcnlOYW1lOiAoY2F0ZWdvcnlJZDogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgYWRkU3ViY2F0ZWdvcnk6IChjYXRlZ29yeUlkOiBzdHJpbmcsIHN1YmNhdGVnb3J5TmFtZTogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIHVwZGF0ZVN1YmNhdGVnb3J5OiAoY2F0ZWdvcnlJZDogc3RyaW5nLCBvbGRTdWI6IHN0cmluZywgbmV3U3ViOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZGVsZXRlU3ViY2F0ZWdvcnk6IChjYXRlZ29yeUlkOiBzdHJpbmcsIHN1YmNhdGVnb3J5TmFtZTogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIG1vdmVDYXRlZ29yeTogKGNhdGVnb3J5SWQ6IHN0cmluZywgZGlyZWN0aW9uOiAndXAnIHwgJ2Rvd24nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIHJlb3JkZXJTdWJjYXRlZ29yaWVzOiAoY2F0ZWdvcnlJZDogc3RyaW5nLCBkcmFnZ2VkU3ViOiBzdHJpbmcsIHRhcmdldFN1Yjogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIG1vdmVTdWJjYXRlZ29yeTogKHNvdXJjZUNhdGVnb3J5SWQ6IHN0cmluZywgc3ViTmFtZTogc3RyaW5nLCB0YXJnZXRDYXRlZ29yeUlkOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcGF5Q29tbWlzc2lvbnM6IChzZWxsZXJJZDogc3RyaW5nLCBzZWxsZXJOYW1lOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyLCBvcmRlcklkczogc3RyaW5nW10sIHBlcmlvZDogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8c3RyaW5nIHwgbnVsbD47XG4gIHJldmVyc2VDb21taXNzaW9uUGF5bWVudDogKHBheW1lbnRJZDogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIHJlc3RvcmVBZG1pbkRhdGE6IChkYXRhOiBhbnksIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmVzZXRPcmRlcnM6IChsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIHJlc2V0UHJvZHVjdHM6IChsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIHJlc2V0RmluYW5jaWFsczogKGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmVzZXRBbGxBZG1pbkRhdGE6IChsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIHNhdmVTdG9ja0F1ZGl0OiAoYXVkaXQ6IFN0b2NrQXVkaXQsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgYWRkQXZhcmlhOiAoYXZhcmlhOiBhbnksIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdXBkYXRlQXZhcmlhOiAoaWQ6IHN0cmluZywgZGF0YTogYW55LCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIGRlbGV0ZUF2YXJpYTogKGlkOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZW1wdHlUcmFzaDogKGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmVzdG9yZVByb2R1Y3Q6IChwcm9kdWN0OiBQcm9kdWN0LCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIHBlcm1hbmVudGx5RGVsZXRlUHJvZHVjdDogKHByb2R1Y3RJZDogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IFByb21pc2U8dm9pZD47XG4gIGZldGNoRGVsZXRlZFByb2R1Y3RzOiAoKSA9PiBQcm9taXNlPFByb2R1Y3RbXT47XG4gIGxvYWRNb3JlT3JkZXJzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBmZXRjaEFsbE9yZGVyczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdG90YWxPcmRlcnNDb3VudDogbnVtYmVyIHwgbnVsbDtcbiAgaGFzTW9yZU9yZGVyczogYm9vbGVhbjtcbiAgaXNMb2FkaW5nTW9yZU9yZGVyczogYm9vbGVhbjtcbiAgb3JkZXJzOiBPcmRlcltdO1xuICBjb21taXNzaW9uUGF5bWVudHM6IENvbW1pc3Npb25QYXltZW50W107XG4gIHN0b2NrQXVkaXRzOiBTdG9ja0F1ZGl0W107XG4gIGF2YXJpYXM6IEF2YXJpYVtdO1xuICBjaGF0U2Vzc2lvbnM6IENoYXRTZXNzaW9uW107XG4gIGN1c3RvbWVyczogQ3VzdG9tZXJJbmZvW107XG4gIGRlbGV0ZWRDdXN0b21lcnM6IEN1c3RvbWVySW5mb1tdO1xuICBjdXN0b21lck9yZGVyczogeyBba2V5OiBzdHJpbmddOiBPcmRlcltdIH07XG4gIGN1c3RvbWVyRmluYW5jaWFsczogeyBba2V5OiBzdHJpbmddOiB7IHRvdGFsQ29tcHJhZG86IG51bWJlciwgdG90YWxQYWdvOiBudW1iZXIsIHNhbGRvRGV2ZWRvcjogbnVtYmVyIH0gfTtcbiAgZmluYW5jaWFsU3VtbWFyeTogeyB0b3RhbFZlbmRpZG86IG51bWJlciwgdG90YWxSZWNlYmlkbzogbnVtYmVyLCB0b3RhbFBlbmRlbnRlOiBudW1iZXIsIGx1Y3JvQnJ1dG86IG51bWJlciwgbW9udGhseURhdGE6IHsgbmFtZTogc3RyaW5nLCB0b3RhbDogbnVtYmVyIH1bXSB9O1xuICBjb21taXNzaW9uU3VtbWFyeTogeyB0b3RhbFBlbmRpbmdDb21taXNzaW9uOiBudW1iZXIsIGNvbW1pc3Npb25zQnlTZWxsZXI6IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyB0b3RhbDogbnVtYmVyOyBjb3VudDogbnVtYmVyOyBvcmRlcklkczogc3RyaW5nW10gfVtdIH07XG59XG5cbmNvbnN0IEFkbWluQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QWRtaW5Db250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuLy8gSGVscGVyIGZvciBpbnN0YWxsbWVudCBjYWxjdWxhdGlvblxuZnVuY3Rpb24gcmVjYWxjdWxhdGVJbnN0YWxsbWVudHModG90YWw6IG51bWJlciwgaW5zdGFsbG1lbnRzQ291bnQ6IG51bWJlciwgb3JkZXJJZDogc3RyaW5nLCBmaXJzdER1ZURhdGU6IHN0cmluZyk6IEluc3RhbGxtZW50W10ge1xuICBpZiAoaW5zdGFsbG1lbnRzQ291bnQgPD0gMCB8fCB0b3RhbCA8IDApIHJldHVybiBbXTtcbiAgY29uc3QgdG90YWxJbkNlbnRzID0gTWF0aC5yb3VuZCh0b3RhbCAqIDEwMCk7XG4gIGNvbnN0IGJhc2VJbnN0YWxsbWVudFZhbHVlSW5DZW50cyA9IE1hdGguZmxvb3IodG90YWxJbkNlbnRzIC8gaW5zdGFsbG1lbnRzQ291bnQpO1xuICBsZXQgcmVtYWluZGVySW5DZW50cyA9IHRvdGFsSW5DZW50cyAlIGluc3RhbGxtZW50c0NvdW50O1xuICBjb25zdCBuZXdJbnN0YWxsbWVudERldGFpbHM6IEluc3RhbGxtZW50W10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnN0YWxsbWVudHNDb3VudDsgaSsrKSB7XG4gICAgbGV0IGluc3RhbGxtZW50VmFsdWVDZW50cyA9IGJhc2VJbnN0YWxsbWVudFZhbHVlSW5DZW50cztcbiAgICBpZiAocmVtYWluZGVySW5DZW50cyA+IDApIHtcbiAgICAgIGluc3RhbGxtZW50VmFsdWVDZW50cysrO1xuICAgICAgcmVtYWluZGVySW5DZW50cy0tO1xuICAgIH1cbiAgICBuZXdJbnN0YWxsbWVudERldGFpbHMucHVzaCh7XG4gICAgICBpZDogYGluc3QtJHtvcmRlcklkfS0ke2kgKyAxfWAsXG4gICAgICBpbnN0YWxsbWVudE51bWJlcjogaSArIDEsXG4gICAgICBhbW91bnQ6IGluc3RhbGxtZW50VmFsdWVDZW50cyAvIDEwMCxcbiAgICAgIGR1ZURhdGU6IGFkZE1vbnRocyhuZXcgRGF0ZShmaXJzdER1ZURhdGUpLCBpKS50b0lTT1N0cmluZygpLFxuICAgICAgc3RhdHVzOiAnUGVuZGVudGUnLFxuICAgICAgcGFpZEFtb3VudDogMCxcbiAgICAgIHBheW1lbnRzOiBbXSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3SW5zdGFsbG1lbnREZXRhaWxzO1xufVxuXG5leHBvcnQgY29uc3QgQWRtaW5Qcm92aWRlciA9ICh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSA9PiB7XG4gIGNvbnN0IHsgcHJvZHVjdHM6IHByb2R1Y3RzRGF0YSwgY2F0ZWdvcmllcywgdXBkYXRlUHJvZHVjdExvY2FsbHksIGFkZFByb2R1Y3RMb2NhbGx5LCBkZWxldGVQcm9kdWN0TG9jYWxseSB9ID0gdXNlRGF0YSgpO1xuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCB7IHVzZXIsIHVzZXJzIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IGlzRmV0Y2hpbmcgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBoYXNQYWdpbmF0ZWRPcmRlcnNSZWYgPSB1c2VSZWYoZmFsc2UpO1xuXG4gIC8vIFVzZSBsb2NhbCBzdGF0ZSBmb3Igb3JkZXJzLCBldGMuXG4gIGNvbnN0IFtvcmRlcnMsIHNldE9yZGVyc10gPSB1c2VTdGF0ZTxPcmRlcltdPihbXSk7XG4gIGNvbnN0IFtvcmRlcnNOZXh0Q3Vyc29yLCBzZXRPcmRlcnNOZXh0Q3Vyc29yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaGFzTW9yZU9yZGVycywgc2V0SGFzTW9yZU9yZGVyc10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2lzTG9hZGluZ01vcmVPcmRlcnMsIHNldElzTG9hZGluZ01vcmVPcmRlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VzdG9tZXJzLCBzZXRDdXN0b21lcnNdID0gdXNlU3RhdGU8Q3VzdG9tZXJJbmZvW10+KFtdKTtcbiAgY29uc3QgW2NvbW1pc3Npb25QYXltZW50cywgc2V0Q29tbWlzc2lvblBheW1lbnRzXSA9IHVzZVN0YXRlPENvbW1pc3Npb25QYXltZW50W10+KFtdKTtcbiAgY29uc3QgW3N0b2NrQXVkaXRzLCBzZXRTdG9ja0F1ZGl0c10gPSB1c2VTdGF0ZTxTdG9ja0F1ZGl0W10+KFtdKTtcbiAgY29uc3QgW2F2YXJpYXMsIHNldEF2YXJpYXNdID0gdXNlU3RhdGU8QXZhcmlhW10+KFtdKTtcbiAgY29uc3QgW2NoYXRTZXNzaW9ucywgc2V0Q2hhdFNlc3Npb25zXSA9IHVzZVN0YXRlPENoYXRTZXNzaW9uW10+KFtdKTtcbiAgY29uc3QgW2RlbGV0ZWRDdXN0b21lcnMsIHNldERlbGV0ZWRDdXN0b21lcnNdID0gdXNlU3RhdGU8Q3VzdG9tZXJJbmZvW10+KFtdKTtcblxuICBjb25zdCBvbmx5RGlnaXRzID0gKHZhbHVlPzogc3RyaW5nKSA9PiBTdHJpbmcodmFsdWUgfHwgJycpLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG5cbiAgY29uc3QgZ2V0Q3VzdG9tZXJLZXkgPSAoY3VzdG9tZXI/OiB7IGNwZj86IHN0cmluZzsgbmFtZT86IHN0cmluZzsgcGhvbmU/OiBzdHJpbmcgfSB8IG51bGwpID0+IHtcbiAgICBpZiAoIWN1c3RvbWVyKSByZXR1cm4gJyc7XG4gICAgY29uc3QgY3BmID0gb25seURpZ2l0cyhjdXN0b21lci5jcGYpO1xuICAgIGlmIChjcGYpIHJldHVybiBjcGY7XG4gICAgY29uc3QgbmFtZSA9IFN0cmluZyhjdXN0b21lci5uYW1lIHx8ICcnKS50cmltKCk7XG4gICAgY29uc3QgcGhvbmUgPSBTdHJpbmcoY3VzdG9tZXIucGhvbmUgfHwgJycpLnRyaW0oKTtcbiAgICBpZiAoIW5hbWUgJiYgIXBob25lKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIGAke25hbWV9LSR7cGhvbmV9YDtcbiAgfTtcblxuICBjb25zdCBtZXJnZU9yZGVyc0J5SWQgPSAocHJldjogT3JkZXJbXSwgZnJlc2g6IE9yZGVyW10pID0+IHtcbiAgICBjb25zdCBieUlkID0gbmV3IE1hcDxzdHJpbmcsIE9yZGVyPigpO1xuICAgIGZvciAoY29uc3QgbyBvZiBwcmV2KSBieUlkLnNldChvLmlkLCBvKTtcbiAgICBmb3IgKGNvbnN0IG8gb2YgZnJlc2gpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSBieUlkLmdldChvLmlkKTtcbiAgICAgIGJ5SWQuc2V0KG8uaWQsIGN1cnJlbnQgPyAoeyAuLi5jdXJyZW50LCAuLi5vIH0gYXMgT3JkZXIpIDogbyk7XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKGJ5SWQudmFsdWVzKCkpLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuZGF0ZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5kYXRlKS5nZXRUaW1lKCkpO1xuICB9O1xuXG4gIC8vIFBvbGxpbmcgRnVuY3Rpb25cbiAgY29uc3QgZmV0Y2hEYXRhID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlcikgcmV0dXJuO1xuXG4gICAgY29uc3QgW29yZGVyc1JlcywgY3VzdG9tZXJzUmVzLCBjb21tUmVzLCBhdWRpdFJlcywgYXZhcmlhUmVzXSA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChbXG4gICAgICBmZXRjaCgnL2FwaS9hZG1pbi9vcmRlcnM/bGltaXQ9MjAmaW5jbHVkZUl0ZW1zPTAnLCB7IGNhY2hlOiAnbm8tc3RvcmUnIH0pLnRoZW4oKHIpID0+IHIuanNvbigpKSxcbiAgICAgIGZldGNoKCcvYXBpL2FkbWluL2N1c3RvbWVycycsIHsgY2FjaGU6ICduby1zdG9yZScgfSkudGhlbigocikgPT4gci5qc29uKCkpLFxuICAgICAgZmV0Y2goJy9hcGkvYWRtaW4vY29tbWlzc2lvbi1wYXltZW50cycsIHsgY2FjaGU6ICduby1zdG9yZScgfSkudGhlbigocikgPT4gci5qc29uKCkpLFxuICAgICAgZmV0Y2goJy9hcGkvYWRtaW4vc3RvY2stYXVkaXRzJywgeyBjYWNoZTogJ25vLXN0b3JlJyB9KS50aGVuKChyKSA9PiByLmpzb24oKSksXG4gICAgICBmZXRjaCgnL2FwaS9hZG1pbi9hdmFyaWFzJywgeyBjYWNoZTogJ25vLXN0b3JlJyB9KS50aGVuKChyKSA9PiByLmpzb24oKSksXG4gICAgXSk7XG5cbiAgICBpZiAob3JkZXJzUmVzLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgb3JkZXJzUmVzLnZhbHVlLnN1Y2Nlc3MgJiYgb3JkZXJzUmVzLnZhbHVlLmRhdGEpIHtcbiAgICAgIGNvbnN0IGZyZXNoID0gb3JkZXJzUmVzLnZhbHVlLmRhdGEgYXMgT3JkZXJbXTtcbiAgICAgIHNldE9yZGVycygocHJldikgPT4gbWVyZ2VPcmRlcnNCeUlkKHByZXYsIGZyZXNoKSk7XG4gICAgICBpZiAoIWhhc1BhZ2luYXRlZE9yZGVyc1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHNldE9yZGVyc05leHRDdXJzb3Iob3JkZXJzUmVzLnZhbHVlLm5leHRDdXJzb3IgfHwgbnVsbCk7XG4gICAgICAgIHNldEhhc01vcmVPcmRlcnMoISFvcmRlcnNSZXMudmFsdWUubmV4dEN1cnNvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdXN0b21lcnNSZXMuc3RhdHVzID09PSAnZnVsZmlsbGVkJyAmJiBjdXN0b21lcnNSZXMudmFsdWUuc3VjY2VzcyAmJiBjdXN0b21lcnNSZXMudmFsdWUuZGF0YSkge1xuICAgICAgc2V0Q3VzdG9tZXJzKGN1c3RvbWVyc1Jlcy52YWx1ZS5kYXRhKTtcbiAgICB9XG4gICAgaWYgKGNvbW1SZXMuc3RhdHVzID09PSAnZnVsZmlsbGVkJyAmJiBjb21tUmVzLnZhbHVlLnN1Y2Nlc3MgJiYgY29tbVJlcy52YWx1ZS5kYXRhKSB7XG4gICAgICBzZXRDb21taXNzaW9uUGF5bWVudHMoY29tbVJlcy52YWx1ZS5kYXRhKTtcbiAgICB9XG4gICAgaWYgKGF1ZGl0UmVzLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgYXVkaXRSZXMudmFsdWUuc3VjY2VzcyAmJiBhdWRpdFJlcy52YWx1ZS5kYXRhKSB7XG4gICAgICBzZXRTdG9ja0F1ZGl0cyhhdWRpdFJlcy52YWx1ZS5kYXRhKTtcbiAgICB9XG4gICAgaWYgKGF2YXJpYVJlcy5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIGF2YXJpYVJlcy52YWx1ZS5zdWNjZXNzICYmIGF2YXJpYVJlcy52YWx1ZS5kYXRhKSB7XG4gICAgICBzZXRBdmFyaWFzKGF2YXJpYVJlcy52YWx1ZS5kYXRhKTtcbiAgICB9XG4gIH0sIFt1c2VyXSk7XG5cbiAgY29uc3QgbG9hZE1vcmVPcmRlcnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VyKSByZXR1cm47XG4gICAgaWYgKCFoYXNNb3JlT3JkZXJzKSByZXR1cm47XG4gICAgaWYgKCFvcmRlcnNOZXh0Q3Vyc29yKSByZXR1cm47XG4gICAgaWYgKGlzTG9hZGluZ01vcmVPcmRlcnMpIHJldHVybjtcblxuICAgIHNldElzTG9hZGluZ01vcmVPcmRlcnModHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2FkbWluL29yZGVycz9saW1pdD0yMCZpbmNsdWRlSXRlbXM9MCZjdXJzb3I9JHtlbmNvZGVVUklDb21wb25lbnQob3JkZXJzTmV4dEN1cnNvcil9YCwgeyBjYWNoZTogJ25vLXN0b3JlJyB9KS50aGVuKChyKSA9PiByLmpzb24oKSk7XG4gICAgICBpZiAoIXJlcz8uc3VjY2VzcyB8fCAhcmVzPy5kYXRhKSByZXR1cm47XG5cbiAgICAgIGhhc1BhZ2luYXRlZE9yZGVyc1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIGNvbnN0IG5leHQgPSByZXMubmV4dEN1cnNvciB8fCBudWxsO1xuICAgICAgc2V0T3JkZXJzTmV4dEN1cnNvcihuZXh0KTtcbiAgICAgIHNldEhhc01vcmVPcmRlcnMoISFuZXh0KTtcblxuICAgICAgc2V0T3JkZXJzKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0KHByZXYubWFwKChvKSA9PiBvLmlkKSk7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IFsuLi5wcmV2XTtcbiAgICAgICAgZm9yIChjb25zdCBvIG9mIHJlcy5kYXRhIGFzIE9yZGVyW10pIHtcbiAgICAgICAgICBpZiAoIXNlZW4uaGFzKG8uaWQpKSBtZXJnZWQucHVzaChvKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVyZ2VkLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuZGF0ZSkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5kYXRlKS5nZXRUaW1lKCkpO1xuICAgICAgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZ01vcmVPcmRlcnMoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3VzZXIsIGhhc01vcmVPcmRlcnMsIG9yZGVyc05leHRDdXJzb3IsIGlzTG9hZGluZ01vcmVPcmRlcnNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHRpY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoaXNGZXRjaGluZy5jdXJyZW50KSByZXR1cm47XG4gICAgICBpc0ZldGNoaW5nLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZmV0Y2hEYXRhKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpc0ZldGNoaW5nLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGljaygpO1xuXG4gICAgY29uc3Qgb25WaXNpYmlsaXR5ID0gKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB0aWNrKCk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5KTtcblxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB0aWNrKCk7XG4gICAgfSwgMzAwMDApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHkpO1xuICAgIH07XG4gIH0sIFtmZXRjaERhdGFdKTtcblxuICBjb25zdCBhZGRPcmRlciA9IGFzeW5jIChvcmRlcjogUGFydGlhbDxPcmRlcj4gJiB7IGZpcnN0RHVlRGF0ZTogRGF0ZSB9LCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpOiBQcm9taXNlPE9yZGVyIHwgbnVsbD4gPT4ge1xuICAgIGNvbnN0IG9yZGVySWQgPSBgUEVELSR7RGF0ZS5ub3coKS50b1N0cmluZygpLnNsaWNlKC02KX1gO1xuICAgIGNvbnN0IHN1YnRvdGFsID0gb3JkZXIuaXRlbXM/LnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBhY2MgKyBpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSwgMCkgfHwgMDtcbiAgICBjb25zdCB0b3RhbCA9IHN1YnRvdGFsIC0gKG9yZGVyLmRpc2NvdW50IHx8IDApO1xuICAgIGNvbnN0IHRvdGFsRmluYW5jZWQgPSB0b3RhbCAtIChvcmRlci5kb3duUGF5bWVudCB8fCAwKTtcblxuICAgIGxldCBpbnN0YWxsbWVudERldGFpbHM6IEluc3RhbGxtZW50W10gPSBbXTtcbiAgICBsZXQgaW5zdGFsbG1lbnRWYWx1ZSA9IDA7XG5cbiAgICBpZiAoKG9yZGVyLmluc3RhbGxtZW50cyB8fCAwKSA+IDAgJiYgb3JkZXIuZmlyc3REdWVEYXRlKSB7XG4gICAgICBpbnN0YWxsbWVudERldGFpbHMgPSByZWNhbGN1bGF0ZUluc3RhbGxtZW50cyh0b3RhbEZpbmFuY2VkLCBvcmRlci5pbnN0YWxsbWVudHMhLCBvcmRlcklkLCBvcmRlci5maXJzdER1ZURhdGUudG9JU09TdHJpbmcoKSk7XG4gICAgICBpbnN0YWxsbWVudFZhbHVlID0gaW5zdGFsbG1lbnREZXRhaWxzWzBdPy5hbW91bnQgfHwgMDtcbiAgICB9XG5cbiAgICBjb25zdCBvcmRlckRhdGE6IE9yZGVyID0ge1xuICAgICAgLi4ub3JkZXIsXG4gICAgICBpZDogb3JkZXJJZCxcbiAgICAgIHRvdGFsLFxuICAgICAgc3VidG90YWwsXG4gICAgICBpbnN0YWxsbWVudERldGFpbHMsXG4gICAgICBpbnN0YWxsbWVudFZhbHVlLFxuICAgICAgc3RhdHVzOiAnUHJvY2Vzc2FuZG8nLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBpdGVtczogb3JkZXIuaXRlbXMgfHwgW10sXG4gICAgICBjdXN0b21lcjogb3JkZXIuY3VzdG9tZXIhLFxuICAgICAgc2VsbGVySWQ6IG9yZGVyLnNlbGxlcklkIHx8IHVzZXI/LmlkIHx8ICcnLFxuICAgICAgc2VsbGVyTmFtZTogb3JkZXIuc2VsbGVyTmFtZSB8fCB1c2VyPy5uYW1lIHx8ICcnLFxuICAgICAgY29tbWlzc2lvblBhaWQ6IGZhbHNlLFxuICAgIH0gYXMgT3JkZXI7XG5cbiAgICBvcmRlckRhdGEuY29tbWlzc2lvbiA9IGNhbGN1bGF0ZU9yZGVyQ29tbWlzc2lvbihvcmRlckRhdGEsIHByb2R1Y3RzRGF0YSk7XG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCBjcmVhdGVPcmRlckFjdGlvbihvcmRlckRhdGEsIG9yZGVyLmN1c3RvbWVyKTtcbiAgICBpZiAoIXJlcy5zdWNjZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKHJlcyBhcyBhbnkpLmVycm9yIHx8ICdGYWlsZWQgdG8gY3JlYXRlIG9yZGVyJyk7XG4gICAgfVxuXG4gICAgbG9nQWN0aW9uKCdDcmlhw6fDo28gZGUgUGVkaWRvJywgYFBlZGlkbyAke29yZGVySWR9IGNyaWFkby5gLCB1c2VyKTtcbiAgICBzZXRPcmRlcnMocHJldiA9PiBbb3JkZXJEYXRhLCAuLi5wcmV2XSk7XG4gICAgcmV0dXJuIG9yZGVyRGF0YTtcbiAgfTtcblxuICBjb25zdCBkZWxldGVPcmRlciA9IGFzeW5jIChvcmRlcklkOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4ge1xuICAgIGNvbnN0IHByZXZpb3VzT3JkZXIgPSBvcmRlcnMuZmluZChvID0+IG8uaWQgPT09IG9yZGVySWQpO1xuICAgIHNldE9yZGVycyhwcmV2ID0+IHByZXYubWFwKG8gPT4gby5pZCA9PT0gb3JkZXJJZCA/IHsgLi4ubywgc3RhdHVzOiAnRXhjbHXDrWRvJyB9IDogbykpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBtb3ZlT3JkZXJUb1RyYXNoQWN0aW9uKG9yZGVySWQpO1xuICAgICAgaWYgKCFyZXMuc3VjY2VzcykgdGhyb3cgbmV3IEVycm9yKHJlcy5lcnJvciB8fCAnRmFsaGEgYW8gbW92ZXIgcGFyYSBsaXhlaXJhJyk7XG4gICAgICBsb2dBY3Rpb24oJ0V4Y2x1c8OjbyBkZSBQZWRpZG8nLCBgUGVkaWRvICR7b3JkZXJJZH0gbW92aWRvIHBhcmEgbGl4ZWlyYS5gLCB1c2VyKTtcbiAgICAgIGZldGNoRGF0YSgpO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgaWYgKHByZXZpb3VzT3JkZXIpIHtcbiAgICAgICAgc2V0T3JkZXJzKHByZXYgPT4gcHJldi5tYXAobyA9PiBvLmlkID09PSBvcmRlcklkID8gcHJldmlvdXNPcmRlciA6IG8pKTtcbiAgICAgIH1cbiAgICAgIHRvYXN0KHsgdGl0bGU6IFwiRXJyb1wiLCBkZXNjcmlwdGlvbjogZT8ubWVzc2FnZSB8fCAnTsOjbyBmb2kgcG9zc8OtdmVsIGV4Y2x1aXIgbyBwZWRpZG8uJywgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwZXJtYW5lbnRseURlbGV0ZU9yZGVyID0gYXN5bmMgKG9yZGVySWQ6IHN0cmluZywgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgcHJldmlvdXNPcmRlciA9IG9yZGVycy5maW5kKG8gPT4gby5pZCA9PT0gb3JkZXJJZCk7XG4gICAgc2V0T3JkZXJzKHByZXYgPT4gcHJldi5maWx0ZXIobyA9PiBvLmlkICE9PSBvcmRlcklkKSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHBlcm1hbmVudGx5RGVsZXRlT3JkZXJBY3Rpb24ob3JkZXJJZCk7XG4gICAgICBpZiAoIXJlcy5zdWNjZXNzKSB0aHJvdyBuZXcgRXJyb3IocmVzLmVycm9yIHx8ICdGYWxoYSBhbyBleGNsdWlyIHBlcm1hbmVudGVtZW50ZScpO1xuICAgICAgbG9nQWN0aW9uKCdFeGNsdXPDo28gUGVybWFuZW50ZScsIGBQZWRpZG8gJHtvcmRlcklkfSBleGNsdcOtZG8uYCwgdXNlcik7XG4gICAgICBmZXRjaERhdGEoKTtcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgIGlmIChwcmV2aW91c09yZGVyKSB7XG4gICAgICAgIHNldE9yZGVycyhwcmV2ID0+IFtwcmV2aW91c09yZGVyLCAuLi5wcmV2XSk7XG4gICAgICB9XG4gICAgICB0b2FzdCh7IHRpdGxlOiBcIkVycm9cIiwgZGVzY3JpcHRpb246IGU/Lm1lc3NhZ2UgfHwgJ07Do28gZm9pIHBvc3PDrXZlbCBleGNsdWlyIG8gcGVkaWRvLicsIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIiB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlT3JkZXJTdGF0dXMgPSBhc3luYyAob3JkZXJJZDogc3RyaW5nLCBzdGF0dXM6IE9yZGVyWydzdGF0dXMnXSwgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgcHJldmlvdXNPcmRlciA9IG9yZGVycy5maW5kKG8gPT4gby5pZCA9PT0gb3JkZXJJZCk7XG4gICAgbGV0IGJhc2VOZXh0ID0gcHJldmlvdXNPcmRlciA/ICh7IC4uLnByZXZpb3VzT3JkZXIsIHN0YXR1cyB9IGFzIE9yZGVyKSA6IG51bGw7XG5cbiAgICBjb25zdCBwYXRjaDogUGFydGlhbDxPcmRlcj4gPSB7IHN0YXR1cyB9O1xuICAgIGlmIChzdGF0dXMgPT09ICdFbnRyZWd1ZScgJiYgYmFzZU5leHQgJiYgIWJhc2VOZXh0LnNlbGxlcklkICYmIGJhc2VOZXh0LnNlbGxlck5hbWUpIHtcbiAgICAgIGNvbnN0IG1hdGNoZWQgPSB1c2Vycy5maW5kKHUgPT4gdS5uYW1lID09PSBiYXNlTmV4dCEuc2VsbGVyTmFtZSk7XG4gICAgICBpZiAobWF0Y2hlZCkge1xuICAgICAgICBiYXNlTmV4dCA9IHsgLi4uYmFzZU5leHQsIHNlbGxlcklkOiBtYXRjaGVkLmlkLCBzZWxsZXJOYW1lOiBtYXRjaGVkLm5hbWUgfTtcbiAgICAgICAgcGF0Y2guc2VsbGVySWQgPSBtYXRjaGVkLmlkO1xuICAgICAgICBwYXRjaC5zZWxsZXJOYW1lID0gbWF0Y2hlZC5uYW1lO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoXG4gICAgICBzdGF0dXMgPT09ICdFbnRyZWd1ZScgJiZcbiAgICAgIGJhc2VOZXh0ICYmXG4gICAgICBiYXNlTmV4dC5pc0NvbW1pc3Npb25NYW51YWwgIT09IHRydWUgJiZcbiAgICAgICghTnVtYmVyLmlzRmluaXRlKGJhc2VOZXh0LmNvbW1pc3Npb24gYXMgYW55KSB8fCAoYmFzZU5leHQuY29tbWlzc2lvbiA/PyAwKSA8PSAwKSAmJlxuICAgICAgISFiYXNlTmV4dC5zZWxsZXJJZFxuICAgICkge1xuICAgICAgcGF0Y2guY29tbWlzc2lvbiA9IGNhbGN1bGF0ZU9yZGVyQ29tbWlzc2lvbihiYXNlTmV4dCwgcHJvZHVjdHNEYXRhKTtcbiAgICAgIHBhdGNoLmNvbW1pc3Npb25QYWlkID0gZmFsc2U7XG4gICAgICBwYXRjaC5pc0NvbW1pc3Npb25NYW51YWwgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRPcmRlcnMocHJldiA9PiBwcmV2Lm1hcChvID0+IG8uaWQgPT09IG9yZGVySWQgPyB7IC4uLm8sIC4uLnBhdGNoIH0gOiBvKSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHVwZGF0ZU9yZGVyU3RhdHVzQWN0aW9uKG9yZGVySWQsIHN0YXR1cywgdXNlcik7XG4gICAgICBpZiAoIXJlcy5zdWNjZXNzKSB0aHJvdyBuZXcgRXJyb3IocmVzLmVycm9yIHx8ICdGYWxoYSBhbyBhdHVhbGl6YXIgc3RhdHVzJyk7XG4gICAgICBsb2dBY3Rpb24oJ1N0YXR1cyBBdHVhbGl6YWRvJywgYFBlZGlkbyAke29yZGVySWR9IGFsdGVyYWRvIHBhcmEgJHtzdGF0dXN9LmAsIHVzZXIpO1xuICAgICAgZmV0Y2hEYXRhKCk7XG4gICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICBpZiAocHJldmlvdXNPcmRlcikge1xuICAgICAgICBzZXRPcmRlcnMocHJldiA9PiBwcmV2Lm1hcChvID0+IG8uaWQgPT09IG9yZGVySWQgPyBwcmV2aW91c09yZGVyIDogbykpO1xuICAgICAgfVxuICAgICAgdG9hc3QoeyB0aXRsZTogXCJFcnJvXCIsIGRlc2NyaXB0aW9uOiBlPy5tZXNzYWdlIHx8ICdOw6NvIGZvaSBwb3Nzw612ZWwgYXR1YWxpemFyIG8gc3RhdHVzLicsIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIiB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVjb3JkSW5zdGFsbG1lbnRQYXltZW50ID0gYXN5bmMgKG9yZGVySWQ6IHN0cmluZywgaW5zdGFsbG1lbnROdW1iZXI6IG51bWJlciwgcGF5bWVudDogT21pdDxQYXltZW50LCAncmVjZWl2ZWRCeSc+LCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICAvLyBJbXBsZW1lbnQgdXNpbmcgZXhpc3RpbmcgbG9naWMgb3IgYWN0aW9uXG4gICAgLy8gRm9yIG5vdywgcGxhY2Vob2xkZXIgdG8gYWxsb3cgY29tcGlsZVxuICAgIGNvbnNvbGUubG9nKCdSZWNvcmQgcGF5bWVudCcsIG9yZGVySWQsIGluc3RhbGxtZW50TnVtYmVyKTtcbiAgfTtcblxuICBjb25zdCBhZGRQcm9kdWN0ID0gYXN5bmMgKHByb2R1Y3REYXRhOiBPbWl0PFByb2R1Y3QsICdpZCcgfCAnZGF0YS1haS1oaW50JyB8ICdjcmVhdGVkQXQnPiwgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYWRkUHJvZHVjdEFjdGlvbihwcm9kdWN0RGF0YSwgdXNlcik7XG4gICAgaWYgKHJlcy5zdWNjZXNzKSB7XG4gICAgICBsb2dBY3Rpb24oJ1Byb2R1dG8gQ3JpYWRvJywgYFByb2R1dG8gJHtwcm9kdWN0RGF0YS5uYW1lfSBjcmlhZG8uYCwgdXNlcik7XG4gICAgICAvLyBPcHRpbWlzdGljIHVwZGF0ZSBoYW5kbGVkIGJ5IERhdGFDb250ZXh0IHBvbGxpbmcgdXN1YWxseSwgYnV0IHdlIGNhbiB0cmlnZ2VyIGl0LlxuICAgICAgLy8gRm9yIG5vdywgYWxsb3cgcmVmcmVzaC5cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlUHJvZHVjdCA9IGFzeW5jIChwcm9kdWN0OiBQcm9kdWN0LCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB1cGRhdGVQcm9kdWN0QWN0aW9uKHByb2R1Y3QsIHVzZXIpO1xuICAgIGlmIChyZXMuc3VjY2Vzcykge1xuICAgICAgbG9nQWN0aW9uKCdQcm9kdXRvIEF0dWFsaXphZG8nLCBgUHJvZHV0byAke3Byb2R1Y3QubmFtZX0gYXR1YWxpemFkby5gLCB1c2VyKTtcbiAgICAgIHVwZGF0ZVByb2R1Y3RMb2NhbGx5KHByb2R1Y3QpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXN5bmMgKHByb2R1Y3RJZDogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBkZWxldGVQcm9kdWN0QWN0aW9uKHByb2R1Y3RJZCwgdXNlcik7XG4gICAgaWYgKHJlcy5zdWNjZXNzKSB7XG4gICAgICBsb2dBY3Rpb24oJ1Byb2R1dG8gUmVtb3ZpZG8nLCBgUHJvZHV0byAke3Byb2R1Y3RJZH0gcmVtb3ZpZG8uYCwgdXNlcik7XG4gICAgICBkZWxldGVQcm9kdWN0TG9jYWxseShwcm9kdWN0SWQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhZGRDdXN0b21lciA9IGFzeW5jIChjdXN0b21lckRhdGE6IEN1c3RvbWVySW5mbywgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYWRkQ3VzdG9tZXJBY3Rpb24oY3VzdG9tZXJEYXRhLCB1c2VyKTtcbiAgICBpZiAocmVzLnN1Y2Nlc3MpIHtcbiAgICAgIGxvZ0FjdGlvbignQ2xpZW50ZSBBZGljaW9uYWRvJywgYENsaWVudGUgJHtjdXN0b21lckRhdGEubmFtZX0gYWRpY2lvbmFkby5gLCB1c2VyKTtcbiAgICAgIC8vIEFkZCB0byBsb2NhbCBzdGF0ZVxuICAgICAgc2V0Q3VzdG9tZXJzKHByZXYgPT4gWy4uLnByZXYsIGN1c3RvbWVyRGF0YV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2FzdCh7IHRpdGxlOiBcIkVycm9cIiwgZGVzY3JpcHRpb246IHJlcy5lcnJvciwgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUGFydGlhbCBpbXBsZW1lbnRhdGlvbnMgZm9yIGNvbXBsZXggbG9naWNcbiAgY29uc3QgZ2VuZXJhdGVDdXN0b21lckNvZGVzID0gYXN5bmMgKGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdlbmVyYXRlQ3VzdG9tZXJDb2Rlc0FjdGlvbih1c2VyKTtcbiAgICBpZiAocmVzLnN1Y2Nlc3MpIHtcbiAgICAgIGxvZ0FjdGlvbignQ8OzZGlnb3MgR2VyYWRvcycsIGBHZXJhZG9zIGPDs2RpZ29zIHBhcmEgJHtyZXMuY291bnQgfHwgMH0gY2xpZW50ZXMuYCwgdXNlcik7XG4gICAgICByZXR1cm4geyBuZXdDdXN0b21lcnM6IHJlcy5jb3VudCB8fCAwLCB1cGRhdGVkT3JkZXJzOiAwIH07XG4gICAgfVxuICAgIHJldHVybiB7IG5ld0N1c3RvbWVyczogMCwgdXBkYXRlZE9yZGVyczogMCB9O1xuICB9O1xuICBjb25zdCByZXZlcnNlUGF5bWVudCA9IGFzeW5jICgpID0+IHsgfTtcbiAgY29uc3QgdXBkYXRlSW5zdGFsbG1lbnREdWVEYXRlID0gYXN5bmMgKCkgPT4geyB9O1xuICBjb25zdCB1cGRhdGVJbnN0YWxsbWVudEFtb3VudCA9IGFzeW5jICgpID0+IHsgfTtcbiAgY29uc3QgdXBkYXRlQ3VzdG9tZXIgPSBhc3luYyAob2xkQ3VzdG9tZXI6IEN1c3RvbWVySW5mbywgdXBkYXRlZEN1c3RvbWVyRGF0YTogQ3VzdG9tZXJJbmZvLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB1cGRhdGVDdXN0b21lckFjdGlvbih1cGRhdGVkQ3VzdG9tZXJEYXRhLCB1c2VyKTtcbiAgICBpZiAocmVzLnN1Y2Nlc3MpIHtcbiAgICAgIGxvZ0FjdGlvbignQ2xpZW50ZSBBdHVhbGl6YWRvJywgYENsaWVudGUgJHt1cGRhdGVkQ3VzdG9tZXJEYXRhLm5hbWV9IGF0dWFsaXphZG8uYCwgdXNlcik7XG4gICAgICBzZXRDdXN0b21lcnMocHJldiA9PiBwcmV2Lm1hcChjID0+IGMuaWQgPT09IHVwZGF0ZWRDdXN0b21lckRhdGEuaWQgPyB1cGRhdGVkQ3VzdG9tZXJEYXRhIDogYykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2FzdCh7IHRpdGxlOiBcIkVycm9cIiwgZGVzY3JpcHRpb246IHJlcy5lcnJvciwgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGVsZXRlQ3VzdG9tZXIgPSBhc3luYyAoY3VzdG9tZXI6IEN1c3RvbWVySW5mbywgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZGVsZXRlQ3VzdG9tZXJBY3Rpb24oY3VzdG9tZXIuaWQsIHVzZXIpO1xuICAgIGlmIChyZXMuc3VjY2Vzcykge1xuICAgICAgbG9nQWN0aW9uKCdDbGllbnRlIEJsb3F1ZWFkby9FeGNsdcOtZG8nLCBgQ2xpZW50ZSAke2N1c3RvbWVyLm5hbWV9IGJsb3F1ZWFkby9leGNsdcOtZG8uYCwgdXNlcik7XG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGUgdG8gc2hvdyBhcyBibG9ja2VkIG9yIHJlbW92ZSBkZXBlbmRpbmcgb24gbG9naWMgKGhlcmUgYXNzdW1lIG1vdmVkIHRvIGJsb2NrZWQvdHJhc2gpXG4gICAgICBzZXRDdXN0b21lcnMocHJldiA9PiBwcmV2Lm1hcChjID0+IGMuaWQgPT09IGN1c3RvbWVyLmlkID8geyAuLi5jLCBibG9ja2VkOiB0cnVlLCBibG9ja2VkUmVhc29uOiAnRXhjbHXDrWRvJyB9IDogYykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2FzdCh7IHRpdGxlOiBcIkVycm9cIiwgZGVzY3JpcHRpb246IHJlcy5lcnJvciwgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlc3RvcmVDdXN0b21lckZyb21UcmFzaCA9IGFzeW5jICgpID0+IHsgfTtcbiAgY29uc3QgcGVybWFuZW50bHlEZWxldGVDdXN0b21lckZyb21UcmFzaCA9IGFzeW5jICgpID0+IHsgfTtcbiAgY29uc3QgaW1wb3J0Q3VzdG9tZXJzID0gYXN5bmMgKGNzdkRhdGE6IHN0cmluZywgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgLy8gQXNzdW1pbmcgY3N2RGF0YSBpcyBhY3R1YWxseSBKU09OIHN0cmluZyBiYXNlZCBvbiB1c3VhbCB1c2FnZSBpbiB0aGlzIGFwcCBvciB3ZSBwYXJzZSBDU1YgaGVyZS5cbiAgICAvLyBUaGUgc2lnbmF0dXJlIHNheXMgY3N2RGF0YSBrZXkgYnV0IHVzYWdlIGluIHBhZ2UgbWlnaHQgYmUgSlNPTi4gXG4gICAgLy8gTGV0J3MgYXNzdW1lIHRoZSB1c2VyIHBhc3NlcyBwYXJzZWQgb2JqZWN0IG9yIEpTT04gc3RyaW5nLiBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShjc3ZEYXRhKTtcbiAgICAgIGNvbnN0IGxpc3QgPSBBcnJheS5pc0FycmF5KHBhcnNlZCkgPyBwYXJzZWQgOiBbXTtcbiAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXdhaXQgaW1wb3J0Q3VzdG9tZXJzQWN0aW9uKGxpc3QsIHVzZXIpO1xuICAgICAgICBsb2dBY3Rpb24oJ0ltcG9ydGHDp8OjbyBkZSBDbGllbnRlcycsIGAke2xpc3QubGVuZ3RofSBjbGllbnRlcyBpbXBvcnRhZG9zLmAsIHVzZXIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIEltcG9ydCBEYXRhXCIsIGUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdXBkYXRlT3JkZXJEZXRhaWxzID0gYXN5bmMgKG9yZGVySWQ6IHN0cmluZywgZGV0YWlsczogUGFydGlhbDxPcmRlcj4gJiB7IGRvd25QYXltZW50PzogbnVtYmVyLCByZXNldERvd25QYXltZW50PzogYm9vbGVhbiB9LCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICBjb25zdCBjdXJyZW50T3JkZXIgPSBvcmRlcnMuZmluZChvID0+IG8uaWQgPT09IG9yZGVySWQpO1xuICAgIGlmICghY3VycmVudE9yZGVyKSByZXR1cm47XG5cbiAgICBsZXQgdXBkYXRlZE9yZGVyID0geyAuLi5jdXJyZW50T3JkZXIsIC4uLmRldGFpbHMgfTtcblxuICAgIC8vIEhhbmRsZSBEb3duIFBheW1lbnQgUmVzZXRcbiAgICBpZiAoZGV0YWlscy5yZXNldERvd25QYXltZW50KSB7XG4gICAgICB1cGRhdGVkT3JkZXIuZG93blBheW1lbnQgPSAwO1xuICAgIH1cblxuICAgIC8vIFJlY2FsY3VsYXRlIHRvdGFsc1xuICAgIGNvbnN0IHN1YnRvdGFsID0gdXBkYXRlZE9yZGVyLml0ZW1zLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBhY2MgKyAoaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpLCAwKTtcbiAgICB1cGRhdGVkT3JkZXIudG90YWwgPSBzdWJ0b3RhbCAtICh1cGRhdGVkT3JkZXIuZGlzY291bnQgfHwgMCk7XG4gICAgY29uc3QgdG90YWxGaW5hbmNlZCA9IHVwZGF0ZWRPcmRlci50b3RhbCAtICh1cGRhdGVkT3JkZXIuZG93blBheW1lbnQgfHwgMCk7XG5cbiAgICAvLyBSZWNhbGN1bGF0ZSBJbnN0YWxsbWVudHMgaWYgcmVsZXZhbnQgZmllbGRzIGNoYW5nZWRcbiAgICBjb25zdCBuZWVkc1JlY2FsY3VsYXRpb24gPVxuICAgICAgZGV0YWlscy5pbnN0YWxsbWVudHMgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgZGV0YWlscy5kaXNjb3VudCAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICBkZXRhaWxzLmRvd25QYXltZW50ICE9PSB1bmRlZmluZWQgfHxcbiAgICAgIGRldGFpbHMucmVzZXREb3duUGF5bWVudCB8fFxuICAgICAgKGRldGFpbHMucGF5bWVudE1ldGhvZCA9PT0gJ0NyZWRpw6FyaW8nICYmIGN1cnJlbnRPcmRlci5wYXltZW50TWV0aG9kICE9PSAnQ3JlZGnDoXJpbycpO1xuXG4gICAgaWYgKG5lZWRzUmVjYWxjdWxhdGlvbiAmJiB1cGRhdGVkT3JkZXIucGF5bWVudE1ldGhvZCA9PT0gJ0NyZWRpw6FyaW8nKSB7XG4gICAgICAvLyBEZWZhdWx0IGxvZ2ljOiBrZWVwIGV4aXN0aW5nIGZpcnN0IGR1ZSBkYXRlIG9yIGRlZmF1bHQgdG8gMzAgZGF5cyBmcm9tIG5vdyBpZiBub3Qgc2V0XG4gICAgICBjb25zdCBmaXJzdER1ZURhdGUgPSB1cGRhdGVkT3JkZXIuaW5zdGFsbG1lbnREZXRhaWxzPy5bMF0/LmR1ZURhdGUgfHwgYWRkTW9udGhzKG5ldyBEYXRlKCksIDEpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAgIHVwZGF0ZWRPcmRlci5pbnN0YWxsbWVudERldGFpbHMgPSByZWNhbGN1bGF0ZUluc3RhbGxtZW50cyhcbiAgICAgICAgdG90YWxGaW5hbmNlZCxcbiAgICAgICAgdXBkYXRlZE9yZGVyLmluc3RhbGxtZW50cyB8fCAxLFxuICAgICAgICBvcmRlcklkLFxuICAgICAgICBmaXJzdER1ZURhdGVcbiAgICAgICk7XG4gICAgICB1cGRhdGVkT3JkZXIuaW5zdGFsbG1lbnRWYWx1ZSA9IHVwZGF0ZWRPcmRlci5pbnN0YWxsbWVudERldGFpbHNbMF0/LmFtb3VudCB8fCAwO1xuICAgIH0gZWxzZSBpZiAodXBkYXRlZE9yZGVyLnBheW1lbnRNZXRob2QgIT09ICdDcmVkacOhcmlvJykge1xuICAgICAgdXBkYXRlZE9yZGVyLmluc3RhbGxtZW50RGV0YWlscyA9IFtdO1xuICAgICAgdXBkYXRlZE9yZGVyLmluc3RhbGxtZW50VmFsdWUgPSAwO1xuICAgICAgdXBkYXRlZE9yZGVyLmluc3RhbGxtZW50cyA9IDA7XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvdWxkUmVjYWxjdWxhdGVDb21taXNzaW9uID1cbiAgICAgIHVwZGF0ZWRPcmRlci5pc0NvbW1pc3Npb25NYW51YWwgIT09IHRydWUgJiZcbiAgICAgIChkZXRhaWxzLnNlbGxlcklkICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgZGV0YWlscy5zZWxsZXJOYW1lICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgZGV0YWlscy5pdGVtcyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIChkZXRhaWxzLnN0YXR1cyA9PT0gJ0VudHJlZ3VlJyAmJiBjdXJyZW50T3JkZXIuc3RhdHVzICE9PSAnRW50cmVndWUnKSk7XG5cbiAgICBpZiAoc2hvdWxkUmVjYWxjdWxhdGVDb21taXNzaW9uKSB7XG4gICAgICB1cGRhdGVkT3JkZXIuY29tbWlzc2lvbiA9IGNhbGN1bGF0ZU9yZGVyQ29tbWlzc2lvbih1cGRhdGVkT3JkZXIsIHByb2R1Y3RzRGF0YSk7XG4gICAgfVxuXG4gICAgc2V0T3JkZXJzKHByZXYgPT4gcHJldi5tYXAobyA9PiBvLmlkID09PSBvcmRlcklkID8gdXBkYXRlZE9yZGVyIDogbykpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBpbXBvcnQoJ0AvYXBwL2FjdGlvbnMvYWRtaW4vb3JkZXJzJykudGhlbihtb2QgPT4gbW9kLnVwZGF0ZU9yZGVyRGV0YWlsc0FjdGlvbihvcmRlcklkLCB1cGRhdGVkT3JkZXIpKTtcblxuICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7XG4gICAgICAgIGxvZ0FjdGlvbignQXR1YWxpemHDp8OjbyBkZSBQZWRpZG8nLCBgRGV0YWxoZXMgZG8gcGVkaWRvICR7b3JkZXJJZH0gYXR1YWxpemFkb3MuYCwgdXNlcik7XG4gICAgICAgIGZldGNoRGF0YSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5lcnJvciB8fCAnRmFsaGEgYW8gYXR1YWxpemFyIHBlZGlkbycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgc2V0T3JkZXJzKHByZXYgPT4gcHJldi5tYXAobyA9PiBvLmlkID09PSBvcmRlcklkID8gY3VycmVudE9yZGVyIDogbykpO1xuICAgICAgdG9hc3QoeyB0aXRsZTogXCJFcnJvIGFvIGF0dWFsaXphclwiLCBkZXNjcmlwdGlvbjogZT8ubWVzc2FnZSB8fCAnTsOjbyBmb2kgcG9zc8OtdmVsIGF0dWFsaXphciBvIHBlZGlkby4nLCB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGltcG9ydFByb2R1Y3RzID0gYXN5bmMgKHByb2R1Y3RzVG9JbXBvcnQ6IFByb2R1Y3RbXSwgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgaW1wb3J0UHJvZHVjdHNBY3Rpb24ocHJvZHVjdHNUb0ltcG9ydCwgdXNlcik7XG4gICAgaWYgKHJlcy5zdWNjZXNzKSB7XG4gICAgICBsb2dBY3Rpb24oJ0ltcG9ydGHDp8OjbyBkZSBQcm9kdXRvcycsIGAke3Byb2R1Y3RzVG9JbXBvcnQubGVuZ3RofSBwcm9kdXRvcyBpbXBvcnRhZG9zLmAsIHVzZXIpO1xuICAgICAgLy8gUmVmcmVzaCBoYW5kbGVkIGJ5IHBvbGxpbmdcbiAgICB9XG4gIH07XG4gIGNvbnN0IGFkZENhdGVnb3J5ID0gYXN5bmMgKGNhdGVnb3J5TmFtZTogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhZGRDYXRlZ29yeUFjdGlvbihjYXRlZ29yeU5hbWUsIHVzZXIpO1xuICAgIGlmIChyZXMuc3VjY2Vzcykge1xuICAgICAgbG9nQWN0aW9uKCdDYXRlZ29yaWEgQ3JpYWRhJywgYENhdGVnb3JpYSAke2NhdGVnb3J5TmFtZX0gY3JpYWRhLmAsIHVzZXIpO1xuICAgICAgLy8gRGF0YUNvbnRleHQgcG9sbGluZyB3aWxsIHVwZGF0ZSB0aGUgbGlzdFxuICAgIH1cbiAgfTtcbiAgY29uc3QgZGVsZXRlQ2F0ZWdvcnkgPSBhc3luYyAoY2F0ZWdvcnlJZDogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBkZWxldGVDYXRlZ29yeUFjdGlvbihjYXRlZ29yeUlkLCB1c2VyKTtcbiAgICBpZiAocmVzLnN1Y2Nlc3MpIGxvZ0FjdGlvbignQ2F0ZWdvcmlhIFJlbW92aWRhJywgYENhdGVnb3JpYSByZW1vdmlkYS5gLCB1c2VyKTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlQ2F0ZWdvcnlOYW1lID0gYXN5bmMgKGNhdGVnb3J5SWQ6IHN0cmluZywgbmV3TmFtZTogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB1cGRhdGVDYXRlZ29yeU5hbWVBY3Rpb24oY2F0ZWdvcnlJZCwgbmV3TmFtZSwgdXNlcik7XG4gICAgaWYgKHJlcy5zdWNjZXNzKSBsb2dBY3Rpb24oJ0NhdGVnb3JpYSBBdHVhbGl6YWRhJywgYENhdGVnb3JpYSBhdHVhbGl6YWRhIHBhcmEgJHtuZXdOYW1lfS5gLCB1c2VyKTtcbiAgfTtcbiAgY29uc3QgYWRkU3ViY2F0ZWdvcnkgPSBhc3luYyAoY2F0ZWdvcnlJZDogc3RyaW5nLCBzdWJjYXRlZ29yeU5hbWU6IHN0cmluZywgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYWRkU3ViY2F0ZWdvcnlBY3Rpb24oY2F0ZWdvcnlJZCwgc3ViY2F0ZWdvcnlOYW1lLCB1c2VyKTtcbiAgICBpZiAocmVzLnN1Y2Nlc3MpIGxvZ0FjdGlvbignU3ViY2F0ZWdvcmlhIENyaWFkYScsIGBTdWJjYXRlZ29yaWEgJHtzdWJjYXRlZ29yeU5hbWV9IGNyaWFkYS5gLCB1c2VyKTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlU3ViY2F0ZWdvcnkgPSBhc3luYyAoY2F0ZWdvcnlJZDogc3RyaW5nLCBvbGRTdWI6IHN0cmluZywgbmV3U3ViOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHVwZGF0ZVN1YmNhdGVnb3J5QWN0aW9uKGNhdGVnb3J5SWQsIG9sZFN1YiwgbmV3U3ViLCB1c2VyKTtcbiAgICBpZiAocmVzLnN1Y2Nlc3MpIGxvZ0FjdGlvbignU3ViY2F0ZWdvcmlhIEF0dWFsaXphZGEnLCBgU3ViY2F0ZWdvcmlhICR7b2xkU3VifSAtPiAke25ld1N1Yn0uYCwgdXNlcik7XG4gIH07XG4gIGNvbnN0IGRlbGV0ZVN1YmNhdGVnb3J5ID0gYXN5bmMgKGNhdGVnb3J5SWQ6IHN0cmluZywgc3ViY2F0ZWdvcnlOYW1lOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGRlbGV0ZVN1YmNhdGVnb3J5QWN0aW9uKGNhdGVnb3J5SWQsIHN1YmNhdGVnb3J5TmFtZSwgdXNlcik7XG4gICAgaWYgKHJlcy5zdWNjZXNzKSBsb2dBY3Rpb24oJ1N1YmNhdGVnb3JpYSBSZW1vdmlkYScsIGBTdWJjYXRlZ29yaWEgJHtzdWJjYXRlZ29yeU5hbWV9IHJlbW92aWRhLmAsIHVzZXIpO1xuICB9O1xuICBjb25zdCBtb3ZlQ2F0ZWdvcnkgPSBhc3luYyAoKSA9PiB7IH07XG4gIGNvbnN0IHJlb3JkZXJTdWJjYXRlZ29yaWVzID0gYXN5bmMgKCkgPT4geyB9O1xuICBjb25zdCBtb3ZlU3ViY2F0ZWdvcnkgPSBhc3luYyAoKSA9PiB7IH07XG4gIGNvbnN0IHBheUNvbW1pc3Npb25zID0gYXN5bmMgKHNlbGxlcklkOiBzdHJpbmcsIHNlbGxlck5hbWU6IHN0cmluZywgYW1vdW50OiBudW1iZXIsIG9yZGVySWRzOiBzdHJpbmdbXSwgcGVyaW9kOiBzdHJpbmcsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHBheUNvbW1pc3Npb25BY3Rpb24oc2VsbGVySWQsIHNlbGxlck5hbWUsIGFtb3VudCwgb3JkZXJJZHMsIHBlcmlvZCwgdXNlcik7XG4gICAgaWYgKHJlcy5zdWNjZXNzKSB7XG4gICAgICBsb2dBY3Rpb24oJ1BhZ2FtZW50byBkZSBDb21pc3PDo28nLCBgUGFnYW1lbnRvIGRlIFIkICR7YW1vdW50LnRvRml4ZWQoMil9IHBhcmEgJHtzZWxsZXJOYW1lfS5gLCB1c2VyKTtcbiAgICAgIHJldHVybiByZXMuZGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGNvbnN0IHJldmVyc2VDb21taXNzaW9uUGF5bWVudCA9IGFzeW5jIChwYXltZW50SWQ6IHN0cmluZywgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgcmV2ZXJzZUNvbW1pc3Npb25QYXltZW50QWN0aW9uKHBheW1lbnRJZCwgdXNlcik7XG4gICAgaWYgKHJlcy5zdWNjZXNzKSBsb2dBY3Rpb24oJ0VzdG9ybm8gZGUgQ29taXNzw6NvJywgYFBhZ2FtZW50byAke3BheW1lbnRJZH0gZXN0b3JuYWRvLmAsIHVzZXIpO1xuICB9O1xuICBjb25zdCBzYXZlU3RvY2tBdWRpdCA9IGFzeW5jIChhdWRpdDogU3RvY2tBdWRpdCwgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgc2F2ZVN0b2NrQXVkaXRBY3Rpb24oYXVkaXQsIHVzZXIpO1xuICAgIGlmIChyZXMuc3VjY2Vzcykge1xuICAgICAgbG9nQWN0aW9uKCdBdWRpdG9yaWEgU2FsdmEnLCBgQXVkaXRvcmlhIGRlIGVzdG9xdWUgc2FsdmEuYCwgdXNlcik7XG4gICAgICBzZXRTdG9ja0F1ZGl0cyhwcmV2ID0+IFsuLi5wcmV2LmZpbHRlcihhID0+IGEuaWQgIT09IGF1ZGl0LmlkKSwgYXVkaXRdKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGFkZEF2YXJpYSA9IGFzeW5jIChhdmFyaWE6IGFueSwgbG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYWRkQXZhcmlhQWN0aW9uKGF2YXJpYSwgdXNlcik7XG4gICAgaWYgKHJlcy5zdWNjZXNzKSB7XG4gICAgICBsb2dBY3Rpb24oJ0F2YXJpYSBBZGljaW9uYWRhJywgYEF2YXJpYSBhZGljaW9uYWRhLmAsIHVzZXIpO1xuICAgICAgc2V0QXZhcmlhcyhwcmV2ID0+IFsuLi5wcmV2LCBhdmFyaWFdKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVwZGF0ZUF2YXJpYSA9IGFzeW5jIChpZDogc3RyaW5nLCBkYXRhOiBhbnksIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHVwZGF0ZUF2YXJpYUFjdGlvbihpZCwgZGF0YSwgdXNlcik7XG4gICAgaWYgKHJlcy5zdWNjZXNzKSB7XG4gICAgICBsb2dBY3Rpb24oJ0F2YXJpYSBBdHVhbGl6YWRhJywgYEF2YXJpYSBhdHVhbGl6YWRhLmAsIHVzZXIpO1xuICAgICAgc2V0QXZhcmlhcyhwcmV2ID0+IHByZXYubWFwKGEgPT4gYS5pZCA9PT0gaWQgPyB7IC4uLmEsIC4uLmRhdGEgfSA6IGEpKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRlbGV0ZUF2YXJpYSA9IGFzeW5jIChpZDogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBkZWxldGVBdmFyaWFBY3Rpb24oaWQsIHVzZXIpO1xuICAgIGlmIChyZXMuc3VjY2Vzcykge1xuICAgICAgbG9nQWN0aW9uKCdBdmFyaWEgRXhjbHXDrWRhJywgYEF2YXJpYSBleGNsdcOtZGEuYCwgdXNlcik7XG4gICAgICBzZXRBdmFyaWFzKHByZXYgPT4gcHJldi5maWx0ZXIoYSA9PiBhLmlkICE9PSBpZCkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZW1wdHlUcmFzaCA9IGFzeW5jIChsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICBhd2FpdCBlbXB0eVRyYXNoQWN0aW9uKHVzZXIpO1xuICAgIGxvZ0FjdGlvbignTGl4ZWlyYSBFc3ZhemlhZGEnLCAnTGl4ZWlyYSBkZSBwcm9kdXRvcyBlc3ZhemlhZGEuJywgdXNlcik7XG4gIH07XG4gIGNvbnN0IHJlc3RvcmVQcm9kdWN0ID0gYXN5bmMgKHByb2R1Y3Q6IFByb2R1Y3QsIGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4ge1xuICAgIGF3YWl0IHJlc3RvcmVQcm9kdWN0QWN0aW9uKHByb2R1Y3QuaWQsIHVzZXIpO1xuICAgIGxvZ0FjdGlvbignUHJvZHV0byBSZXN0YXVyYWRvJywgYFByb2R1dG8gJHtwcm9kdWN0Lm5hbWV9IHJlc3RhdXJhZG8uYCwgdXNlcik7XG4gICAgLy8gTG9jYWwgdXBkYXRlIGhlbHBlciBpZiBuZWVkZWQsIGJ1dCBwb2xsaW5nIHdvcmtzXG4gICAgdXBkYXRlUHJvZHVjdExvY2FsbHkoeyAuLi5wcm9kdWN0LCBkZWxldGVkQXQ6IHVuZGVmaW5lZCB9KTtcbiAgfTtcbiAgY29uc3QgcGVybWFuZW50bHlEZWxldGVQcm9kdWN0ID0gYXN5bmMgKHByb2R1Y3RJZDogc3RyaW5nLCBsb2dBY3Rpb246IExvZ0FjdGlvbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgICBhd2FpdCBwZXJtYW5lbnRseURlbGV0ZVByb2R1Y3RXaXRoSWRBY3Rpb24ocHJvZHVjdElkLCB1c2VyKTtcbiAgICBsb2dBY3Rpb24oJ1Byb2R1dG8gRXhjbHXDrWRvIFBlcm1hbmVudGVtZW50ZScsIGBQcm9kdXRvICR7cHJvZHVjdElkfSBhcGFnYWRvLmAsIHVzZXIpO1xuICAgIGRlbGV0ZVByb2R1Y3RMb2NhbGx5KHByb2R1Y3RJZCk7XG4gIH07XG4gIGNvbnN0IGZldGNoRGVsZXRlZFByb2R1Y3RzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoRGVsZXRlZFByb2R1Y3RzQWN0aW9uKCk7XG4gICAgcmV0dXJuIHJlcy5zdWNjZXNzICYmIHJlcy5kYXRhID8gcmVzLmRhdGEgOiBbXTtcbiAgfTtcblxuICBjb25zdCByZXN0b3JlQWRtaW5EYXRhID0gYXN5bmMgKCkgPT4geyB9OyAvLyBEZXByZWNhdGVkIG9yIHNwZWNpZmljIGJhY2t1cCByZXN0b3JlIGxvZ2ljXG4gIGNvbnN0IHJlc2V0T3JkZXJzID0gYXN5bmMgKGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4ge1xuICAgIGF3YWl0IHJlc2V0T3JkZXJzQWN0aW9uKHVzZXIpO1xuICAgIGxvZ0FjdGlvbignUmVzZXQgZGUgUGVkaWRvcycsICdUb2RvcyBvcyBwZWRpZG9zIGZvcmFtIGFwYWdhZG9zLicsIHVzZXIpO1xuICAgIHNldE9yZGVycyhbXSk7XG4gICAgc2V0T3JkZXJzTmV4dEN1cnNvcihudWxsKTtcbiAgICBzZXRIYXNNb3JlT3JkZXJzKHRydWUpO1xuICAgIGhhc1BhZ2luYXRlZE9yZGVyc1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gIH07XG4gIGNvbnN0IHJlc2V0UHJvZHVjdHMgPSBhc3luYyAobG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgYXdhaXQgcmVzZXRQcm9kdWN0c0FjdGlvbih1c2VyKTtcbiAgICBsb2dBY3Rpb24oJ1Jlc2V0IGRlIFByb2R1dG9zJywgJ1RvZG9zIG9zIHByb2R1dG9zIGZvcmFtIGFwYWdhZG9zLicsIHVzZXIpO1xuICB9O1xuICBjb25zdCByZXNldEZpbmFuY2lhbHMgPSBhc3luYyAobG9nQWN0aW9uOiBMb2dBY3Rpb24sIHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gICAgYXdhaXQgcmVzZXRGaW5hbmNpYWxzQWN0aW9uKHVzZXIpO1xuICAgIGxvZ0FjdGlvbignUmVzZXQgRmluYW5jZWlybycsICdEYWRvcyBmaW5hbmNlaXJvcyByZXNldGFkb3MuJywgdXNlcik7XG4gIH07XG4gIGNvbnN0IHJlc2V0QWxsQWRtaW5EYXRhID0gYXN5bmMgKGxvZ0FjdGlvbjogTG9nQWN0aW9uLCB1c2VyOiBVc2VyIHwgbnVsbCkgPT4ge1xuICAgIGF3YWl0IHJlc2V0QWxsQWRtaW5EYXRhQWN0aW9uKHVzZXIpO1xuICAgIGxvZ0FjdGlvbignUmVzZXQgR2VyYWwnLCAnVG9kb3Mgb3MgZGFkb3MgZG8gc2lzdGVtYSBmb3JhbSBhcGFnYWRvcy4nLCB1c2VyKTtcbiAgICBzZXRPcmRlcnMoW10pO1xuICAgIHNldEN1c3RvbWVycyhbXSk7XG4gICAgc2V0T3JkZXJzTmV4dEN1cnNvcihudWxsKTtcbiAgICBzZXRIYXNNb3JlT3JkZXJzKHRydWUpO1xuICAgIGhhc1BhZ2luYXRlZE9yZGVyc1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gIH07XG5cbiAgLy8gQ29tcHV0ZWRcbiAgY29uc3QgY3VzdG9tZXJzRm9yVUkgPSB1c2VNZW1vKCgpID0+IGN1c3RvbWVycywgW2N1c3RvbWVyc10pO1xuICBjb25zdCBjdXN0b21lck9yZGVycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG91dDogeyBba2V5OiBzdHJpbmddOiBPcmRlcltdIH0gPSB7fTtcbiAgICBmb3IgKGNvbnN0IG9yZGVyIG9mIG9yZGVycykge1xuICAgICAgY29uc3Qga2V5ID0gZ2V0Q3VzdG9tZXJLZXkob3JkZXIuY3VzdG9tZXIgYXMgYW55KTtcbiAgICAgIGlmICgha2V5KSBjb250aW51ZTtcbiAgICAgIGlmICghb3V0W2tleV0pIG91dFtrZXldID0gW107XG4gICAgICBvdXRba2V5XS5wdXNoKG9yZGVyKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob3V0KSkge1xuICAgICAgb3V0W2tleV0gPSBvdXRba2V5XS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuZGF0ZSkuZ2V0VGltZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfSwgW29yZGVyc10pO1xuXG4gIGNvbnN0IGN1c3RvbWVyRmluYW5jaWFscyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG91dDogeyBba2V5OiBzdHJpbmddOiB7IHRvdGFsQ29tcHJhZG86IG51bWJlcjsgdG90YWxQYWdvOiBudW1iZXI7IHNhbGRvRGV2ZWRvcjogbnVtYmVyIH0gfSA9IHt9O1xuXG4gICAgY29uc3QgZ2V0VG90YWxQYWdvID0gKG9yZGVyOiBPcmRlcikgPT4ge1xuICAgICAgaWYgKG9yZGVyLnBheW1lbnRNZXRob2QgPT09ICdDcmVkacOhcmlvJykge1xuICAgICAgICByZXR1cm4gKG9yZGVyLmluc3RhbGxtZW50RGV0YWlscyB8fCBbXSkucmVkdWNlKChzLCBpbnN0KSA9PiBzICsgKGluc3QucGFpZEFtb3VudCB8fCAwKSwgMCk7XG4gICAgICB9XG4gICAgICBpZiAob3JkZXIucGF5bWVudE1ldGhvZCA9PT0gJ0RpbmhlaXJvJykge1xuICAgICAgICByZXR1cm4gb3JkZXIudG90YWwgfHwgMDtcbiAgICAgIH1cbiAgICAgIGlmIChvcmRlci5wYXltZW50TWV0aG9kID09PSAnUGl4Jykge1xuICAgICAgICBjb25zdCBpc0xlZ2FjeVBpeCA9ICFvcmRlci5hc2Fhcz8ucGF5bWVudElkO1xuICAgICAgICBjb25zdCBpc1BhaWQgPSBpc0xlZ2FjeVBpeCB8fCAhIW9yZGVyLmFzYWFzPy5wYWlkQXQ7XG4gICAgICAgIHJldHVybiBpc1BhaWQgPyAob3JkZXIudG90YWwgfHwgMCkgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcblxuICAgIGZvciAoY29uc3Qgb3JkZXIgb2Ygb3JkZXJzKSB7XG4gICAgICBpZiAob3JkZXIuc3RhdHVzID09PSAnRXhjbHXDrWRvJykgY29udGludWU7XG4gICAgICBjb25zdCBrZXkgPSBnZXRDdXN0b21lcktleShvcmRlci5jdXN0b21lciBhcyBhbnkpO1xuICAgICAgaWYgKCFrZXkpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgY3VycmVudCA9IG91dFtrZXldIHx8IHsgdG90YWxDb21wcmFkbzogMCwgdG90YWxQYWdvOiAwLCBzYWxkb0RldmVkb3I6IDAgfTtcbiAgICAgIGN1cnJlbnQudG90YWxDb21wcmFkbyArPSBvcmRlci50b3RhbCB8fCAwO1xuICAgICAgY3VycmVudC50b3RhbFBhZ28gKz0gZ2V0VG90YWxQYWdvKG9yZGVyKTtcbiAgICAgIGN1cnJlbnQuc2FsZG9EZXZlZG9yID0gY3VycmVudC50b3RhbENvbXByYWRvIC0gY3VycmVudC50b3RhbFBhZ287XG4gICAgICBvdXRba2V5XSA9IGN1cnJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH0sIFtvcmRlcnNdKTtcbiAgY29uc3QgZmluYW5jaWFsU3VtbWFyeSA9IHVzZU1lbW8oKCkgPT4gKHsgdG90YWxWZW5kaWRvOiAwLCB0b3RhbFJlY2ViaWRvOiAwLCB0b3RhbFBlbmRlbnRlOiAwLCBsdWNyb0JydXRvOiAwLCBtb250aGx5RGF0YTogW10gfSksIFtvcmRlcnNdKTtcbiAgY29uc3QgY29tbWlzc2lvblN1bW1hcnkgPSB1c2VNZW1vKCgpID0+ICh7IHRvdGFsUGVuZGluZ0NvbW1pc3Npb246IDAsIGNvbW1pc3Npb25zQnlTZWxsZXI6IFtdIH0pLCBbb3JkZXJzXSk7XG5cbiAgY29uc3QgdmFsdWUgPSB7XG4gICAgYWRkT3JkZXIsIGFkZEN1c3RvbWVyLCBnZW5lcmF0ZUN1c3RvbWVyQ29kZXMsIGRlbGV0ZU9yZGVyLCBwZXJtYW5lbnRseURlbGV0ZU9yZGVyLCB1cGRhdGVPcmRlclN0YXR1cywgcmVjb3JkSW5zdGFsbG1lbnRQYXltZW50LCByZXZlcnNlUGF5bWVudCwgdXBkYXRlSW5zdGFsbG1lbnREdWVEYXRlLCB1cGRhdGVJbnN0YWxsbWVudEFtb3VudCwgdXBkYXRlQ3VzdG9tZXIsIGRlbGV0ZUN1c3RvbWVyLCByZXN0b3JlQ3VzdG9tZXJGcm9tVHJhc2gsIHBlcm1hbmVudGx5RGVsZXRlQ3VzdG9tZXJGcm9tVHJhc2gsIGltcG9ydEN1c3RvbWVycywgdXBkYXRlT3JkZXJEZXRhaWxzLFxuICAgIGFkZFByb2R1Y3QsIHVwZGF0ZVByb2R1Y3QsIGRlbGV0ZVByb2R1Y3QsIGltcG9ydFByb2R1Y3RzLFxuICAgIGFkZENhdGVnb3J5LCBkZWxldGVDYXRlZ29yeSwgdXBkYXRlQ2F0ZWdvcnlOYW1lLCBhZGRTdWJjYXRlZ29yeSwgdXBkYXRlU3ViY2F0ZWdvcnksIGRlbGV0ZVN1YmNhdGVnb3J5LCBtb3ZlQ2F0ZWdvcnksIHJlb3JkZXJTdWJjYXRlZ29yaWVzLCBtb3ZlU3ViY2F0ZWdvcnksXG4gICAgcGF5Q29tbWlzc2lvbnMsIHJldmVyc2VDb21taXNzaW9uUGF5bWVudCxcbiAgICByZXN0b3JlQWRtaW5EYXRhLCByZXNldE9yZGVycywgcmVzZXRQcm9kdWN0cywgcmVzZXRGaW5hbmNpYWxzLCByZXNldEFsbEFkbWluRGF0YSxcbiAgICBzYXZlU3RvY2tBdWRpdCwgYWRkQXZhcmlhLCB1cGRhdGVBdmFyaWEsIGRlbGV0ZUF2YXJpYSxcbiAgICBlbXB0eVRyYXNoLFxuICAgIHJlc3RvcmVQcm9kdWN0LCBwZXJtYW5lbnRseURlbGV0ZVByb2R1Y3QsIGZldGNoRGVsZXRlZFByb2R1Y3RzLFxuICAgIGxvYWRNb3JlT3JkZXJzLCBoYXNNb3JlT3JkZXJzLCBpc0xvYWRpbmdNb3JlT3JkZXJzLFxuICAgIG9yZGVycywgY29tbWlzc2lvblBheW1lbnRzLCBzdG9ja0F1ZGl0cywgYXZhcmlhcywgY2hhdFNlc3Npb25zLCBjdXN0b21lcnM6IGN1c3RvbWVyc0ZvclVJLCBkZWxldGVkQ3VzdG9tZXJzLCBjdXN0b21lck9yZGVycywgY3VzdG9tZXJGaW5hbmNpYWxzLCBmaW5hbmNpYWxTdW1tYXJ5LCBjb21taXNzaW9uU3VtbWFyeSxcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxBZG1pbkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0FkbWluQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBZG1pbiA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQWRtaW5Db250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCd1c2VBZG1pbiBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEFkbWluUHJvdmlkZXInKTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlQWRtaW5EYXRhID0gdXNlQWRtaW47XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUNhbGxiYWNrIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlVG9hc3QiLCJ1c2VEYXRhIiwiYWRkTW9udGhzIiwidXNlQXV0aCIsImNhbGN1bGF0ZU9yZGVyQ29tbWlzc2lvbiIsInVwZGF0ZU9yZGVyU3RhdHVzQWN0aW9uIiwibW92ZU9yZGVyVG9UcmFzaEFjdGlvbiIsInBlcm1hbmVudGx5RGVsZXRlT3JkZXJBY3Rpb24iLCJhZGRQcm9kdWN0QWN0aW9uIiwidXBkYXRlUHJvZHVjdEFjdGlvbiIsImRlbGV0ZVByb2R1Y3RBY3Rpb24iLCJzYXZlU3RvY2tBdWRpdEFjdGlvbiIsImFkZEF2YXJpYUFjdGlvbiIsInVwZGF0ZUF2YXJpYUFjdGlvbiIsImRlbGV0ZUF2YXJpYUFjdGlvbiIsImNyZWF0ZU9yZGVyQWN0aW9uIiwicmVzZXRPcmRlcnNBY3Rpb24iLCJyZXNldFByb2R1Y3RzQWN0aW9uIiwicmVzZXRGaW5hbmNpYWxzQWN0aW9uIiwicmVzZXRBbGxBZG1pbkRhdGFBY3Rpb24iLCJpbXBvcnRQcm9kdWN0c0FjdGlvbiIsImltcG9ydEN1c3RvbWVyc0FjdGlvbiIsImVtcHR5VHJhc2hBY3Rpb24iLCJyZXN0b3JlUHJvZHVjdEFjdGlvbiIsInBlcm1hbmVudGx5RGVsZXRlUHJvZHVjdFdpdGhJZEFjdGlvbiIsImZldGNoRGVsZXRlZFByb2R1Y3RzQWN0aW9uIiwiYWRkQ3VzdG9tZXJBY3Rpb24iLCJ1cGRhdGVDdXN0b21lckFjdGlvbiIsImRlbGV0ZUN1c3RvbWVyQWN0aW9uIiwiZ2VuZXJhdGVDdXN0b21lckNvZGVzQWN0aW9uIiwicGF5Q29tbWlzc2lvbkFjdGlvbiIsInJldmVyc2VDb21taXNzaW9uUGF5bWVudEFjdGlvbiIsImFkZENhdGVnb3J5QWN0aW9uIiwiZGVsZXRlQ2F0ZWdvcnlBY3Rpb24iLCJ1cGRhdGVDYXRlZ29yeU5hbWVBY3Rpb24iLCJhZGRTdWJjYXRlZ29yeUFjdGlvbiIsInVwZGF0ZVN1YmNhdGVnb3J5QWN0aW9uIiwiZGVsZXRlU3ViY2F0ZWdvcnlBY3Rpb24iLCJBZG1pbkNvbnRleHQiLCJ1bmRlZmluZWQiLCJyZWNhbGN1bGF0ZUluc3RhbGxtZW50cyIsInRvdGFsIiwiaW5zdGFsbG1lbnRzQ291bnQiLCJvcmRlcklkIiwiZmlyc3REdWVEYXRlIiwidG90YWxJbkNlbnRzIiwiTWF0aCIsInJvdW5kIiwiYmFzZUluc3RhbGxtZW50VmFsdWVJbkNlbnRzIiwiZmxvb3IiLCJyZW1haW5kZXJJbkNlbnRzIiwibmV3SW5zdGFsbG1lbnREZXRhaWxzIiwiaSIsImluc3RhbGxtZW50VmFsdWVDZW50cyIsInB1c2giLCJpZCIsImluc3RhbGxtZW50TnVtYmVyIiwiYW1vdW50IiwiZHVlRGF0ZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInN0YXR1cyIsInBhaWRBbW91bnQiLCJwYXltZW50cyIsIkFkbWluUHJvdmlkZXIiLCJjaGlsZHJlbiIsInByb2R1Y3RzIiwicHJvZHVjdHNEYXRhIiwiY2F0ZWdvcmllcyIsInVwZGF0ZVByb2R1Y3RMb2NhbGx5IiwiYWRkUHJvZHVjdExvY2FsbHkiLCJkZWxldGVQcm9kdWN0TG9jYWxseSIsInRvYXN0IiwidXNlciIsInVzZXJzIiwiaXNGZXRjaGluZyIsImhhc1BhZ2luYXRlZE9yZGVyc1JlZiIsIm9yZGVycyIsInNldE9yZGVycyIsIm9yZGVyc05leHRDdXJzb3IiLCJzZXRPcmRlcnNOZXh0Q3Vyc29yIiwiaGFzTW9yZU9yZGVycyIsInNldEhhc01vcmVPcmRlcnMiLCJpc0xvYWRpbmdNb3JlT3JkZXJzIiwic2V0SXNMb2FkaW5nTW9yZU9yZGVycyIsImN1c3RvbWVycyIsInNldEN1c3RvbWVycyIsImNvbW1pc3Npb25QYXltZW50cyIsInNldENvbW1pc3Npb25QYXltZW50cyIsInN0b2NrQXVkaXRzIiwic2V0U3RvY2tBdWRpdHMiLCJhdmFyaWFzIiwic2V0QXZhcmlhcyIsImNoYXRTZXNzaW9ucyIsInNldENoYXRTZXNzaW9ucyIsImRlbGV0ZWRDdXN0b21lcnMiLCJzZXREZWxldGVkQ3VzdG9tZXJzIiwib25seURpZ2l0cyIsInZhbHVlIiwiU3RyaW5nIiwicmVwbGFjZSIsImdldEN1c3RvbWVyS2V5IiwiY3VzdG9tZXIiLCJjcGYiLCJuYW1lIiwidHJpbSIsInBob25lIiwibWVyZ2VPcmRlcnNCeUlkIiwicHJldiIsImZyZXNoIiwiYnlJZCIsIk1hcCIsIm8iLCJzZXQiLCJjdXJyZW50IiwiZ2V0IiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwic29ydCIsImEiLCJiIiwiZGF0ZSIsImdldFRpbWUiLCJmZXRjaERhdGEiLCJvcmRlcnNSZXMiLCJjdXN0b21lcnNSZXMiLCJjb21tUmVzIiwiYXVkaXRSZXMiLCJhdmFyaWFSZXMiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsImZldGNoIiwiY2FjaGUiLCJ0aGVuIiwiciIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsIm5leHRDdXJzb3IiLCJsb2FkTW9yZU9yZGVycyIsInJlcyIsImVuY29kZVVSSUNvbXBvbmVudCIsIm5leHQiLCJzZWVuIiwiU2V0IiwibWFwIiwibWVyZ2VkIiwiaGFzIiwidGljayIsIm9uVmlzaWJpbGl0eSIsImRvY3VtZW50IiwidmlzaWJpbGl0eVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZE9yZGVyIiwib3JkZXIiLCJsb2dBY3Rpb24iLCJub3ciLCJ0b1N0cmluZyIsInNsaWNlIiwic3VidG90YWwiLCJpdGVtcyIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJwcmljZSIsInF1YW50aXR5IiwiZGlzY291bnQiLCJ0b3RhbEZpbmFuY2VkIiwiZG93blBheW1lbnQiLCJpbnN0YWxsbWVudERldGFpbHMiLCJpbnN0YWxsbWVudFZhbHVlIiwiaW5zdGFsbG1lbnRzIiwib3JkZXJEYXRhIiwiY3JlYXRlZEF0Iiwic2VsbGVySWQiLCJzZWxsZXJOYW1lIiwiY29tbWlzc2lvblBhaWQiLCJjb21taXNzaW9uIiwiRXJyb3IiLCJlcnJvciIsImRlbGV0ZU9yZGVyIiwicHJldmlvdXNPcmRlciIsImZpbmQiLCJlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIm1lc3NhZ2UiLCJ2YXJpYW50IiwicGVybWFuZW50bHlEZWxldGVPcmRlciIsImZpbHRlciIsInVwZGF0ZU9yZGVyU3RhdHVzIiwiYmFzZU5leHQiLCJwYXRjaCIsIm1hdGNoZWQiLCJ1IiwiaXNDb21taXNzaW9uTWFudWFsIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJyZWNvcmRJbnN0YWxsbWVudFBheW1lbnQiLCJwYXltZW50IiwiY29uc29sZSIsImxvZyIsImFkZFByb2R1Y3QiLCJwcm9kdWN0RGF0YSIsInVwZGF0ZVByb2R1Y3QiLCJwcm9kdWN0IiwiZGVsZXRlUHJvZHVjdCIsInByb2R1Y3RJZCIsImFkZEN1c3RvbWVyIiwiY3VzdG9tZXJEYXRhIiwiZ2VuZXJhdGVDdXN0b21lckNvZGVzIiwiY291bnQiLCJuZXdDdXN0b21lcnMiLCJ1cGRhdGVkT3JkZXJzIiwicmV2ZXJzZVBheW1lbnQiLCJ1cGRhdGVJbnN0YWxsbWVudER1ZURhdGUiLCJ1cGRhdGVJbnN0YWxsbWVudEFtb3VudCIsInVwZGF0ZUN1c3RvbWVyIiwib2xkQ3VzdG9tZXIiLCJ1cGRhdGVkQ3VzdG9tZXJEYXRhIiwiYyIsImRlbGV0ZUN1c3RvbWVyIiwiYmxvY2tlZCIsImJsb2NrZWRSZWFzb24iLCJyZXN0b3JlQ3VzdG9tZXJGcm9tVHJhc2giLCJwZXJtYW5lbnRseURlbGV0ZUN1c3RvbWVyRnJvbVRyYXNoIiwiaW1wb3J0Q3VzdG9tZXJzIiwiY3N2RGF0YSIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsImxpc3QiLCJpc0FycmF5IiwibGVuZ3RoIiwidXBkYXRlT3JkZXJEZXRhaWxzIiwiZGV0YWlscyIsImN1cnJlbnRPcmRlciIsInVwZGF0ZWRPcmRlciIsInJlc2V0RG93blBheW1lbnQiLCJuZWVkc1JlY2FsY3VsYXRpb24iLCJwYXltZW50TWV0aG9kIiwic2hvdWxkUmVjYWxjdWxhdGVDb21taXNzaW9uIiwibW9kIiwidXBkYXRlT3JkZXJEZXRhaWxzQWN0aW9uIiwiaW1wb3J0UHJvZHVjdHMiLCJwcm9kdWN0c1RvSW1wb3J0IiwiYWRkQ2F0ZWdvcnkiLCJjYXRlZ29yeU5hbWUiLCJkZWxldGVDYXRlZ29yeSIsImNhdGVnb3J5SWQiLCJ1cGRhdGVDYXRlZ29yeU5hbWUiLCJuZXdOYW1lIiwiYWRkU3ViY2F0ZWdvcnkiLCJzdWJjYXRlZ29yeU5hbWUiLCJ1cGRhdGVTdWJjYXRlZ29yeSIsIm9sZFN1YiIsIm5ld1N1YiIsImRlbGV0ZVN1YmNhdGVnb3J5IiwibW92ZUNhdGVnb3J5IiwicmVvcmRlclN1YmNhdGVnb3JpZXMiLCJtb3ZlU3ViY2F0ZWdvcnkiLCJwYXlDb21taXNzaW9ucyIsIm9yZGVySWRzIiwicGVyaW9kIiwidG9GaXhlZCIsInJldmVyc2VDb21taXNzaW9uUGF5bWVudCIsInBheW1lbnRJZCIsInNhdmVTdG9ja0F1ZGl0IiwiYXVkaXQiLCJhZGRBdmFyaWEiLCJhdmFyaWEiLCJ1cGRhdGVBdmFyaWEiLCJkZWxldGVBdmFyaWEiLCJlbXB0eVRyYXNoIiwicmVzdG9yZVByb2R1Y3QiLCJkZWxldGVkQXQiLCJwZXJtYW5lbnRseURlbGV0ZVByb2R1Y3QiLCJmZXRjaERlbGV0ZWRQcm9kdWN0cyIsInJlc3RvcmVBZG1pbkRhdGEiLCJyZXNldE9yZGVycyIsInJlc2V0UHJvZHVjdHMiLCJyZXNldEZpbmFuY2lhbHMiLCJyZXNldEFsbEFkbWluRGF0YSIsImN1c3RvbWVyc0ZvclVJIiwiY3VzdG9tZXJPcmRlcnMiLCJvdXQiLCJrZXkiLCJPYmplY3QiLCJrZXlzIiwiY3VzdG9tZXJGaW5hbmNpYWxzIiwiZ2V0VG90YWxQYWdvIiwicyIsImluc3QiLCJpc0xlZ2FjeVBpeCIsImFzYWFzIiwiaXNQYWlkIiwicGFpZEF0IiwidG90YWxDb21wcmFkbyIsInRvdGFsUGFnbyIsInNhbGRvRGV2ZWRvciIsImZpbmFuY2lhbFN1bW1hcnkiLCJ0b3RhbFZlbmRpZG8iLCJ0b3RhbFJlY2ViaWRvIiwidG90YWxQZW5kZW50ZSIsImx1Y3JvQnJ1dG8iLCJtb250aGx5RGF0YSIsImNvbW1pc3Npb25TdW1tYXJ5IiwidG90YWxQZW5kaW5nQ29tbWlzc2lvbiIsImNvbW1pc3Npb25zQnlTZWxsZXIiLCJQcm92aWRlciIsInVzZUFkbWluIiwiY29udGV4dCIsInVzZUFkbWluRGF0YSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/context/AdminContext.tsx\n"));

/***/ })

});